{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Viktor\\\\Documents\\\\Studium\\\\WuM\\\\Watch2Gether\\\\streamwithme\\\\src\\\\App.js\";\n\nimport React, { useCallback, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './components/styles/App.css';\nimport Navbar from './components/Navbar';\nimport CreateRoom from './components/CreateRoom';\nimport { Helmet } from 'react-helmet';\nimport { deleteUser } from './components/API/UserAPI';\nimport Footer from './components/Footer';\nimport InputUser from './components/InputUser.js';\nimport Backgroundvideo from './components/Backgroundvideo';\nimport RoomList from './components/RoomList';\nimport { leaveRoom } from './components/API/RoomAPI';\nimport { roomState } from './Room';\nvar TITLE = 'StreamWithMe';\nexport var user;\nexport function SetUser(id) {\n  //Set the user id and delete the previous if necessary\n  if (user !== null) deleteUser(user);\n  user = id;\n}\n\nvar App = function App() {\n  var navigate = useNavigate();\n  var navigateToHome = useCallback(function () {\n    return navigate(\"/\", {\n      replace: true\n    });\n  }, [navigate]);\n  useEffect(function () {\n    //Delete the current user when the side is closed\n    var handleTabClose = function handleTabClose(event) {\n      event.preventDefault();\n\n      if (roomState.get() !== false) {\n        leaveRoom(roomState.get(), user);\n        navigateToHome();\n      }\n\n      console.log('beforeunload event triggered');\n      deleteUser(user);\n      user = undefined;\n      return event.returnValue = 'Are you sure you want to exit?';\n    };\n\n    window.addEventListener('beforeunload', handleTabClose);\n    return function () {\n      return window.removeEventListener('beforeunload', handleTabClose);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Helmet, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, TITLE)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, \"    \", /*#__PURE__*/React.createElement(Navbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, \"    \", /*#__PURE__*/React.createElement(CreateRoom, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"join\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, \"      \", /*#__PURE__*/React.createElement(RoomList, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"footer\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"    \", /*#__PURE__*/React.createElement(Footer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(InputUser, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Backgroundvideo, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default App;","map":{"version":3,"names":["React","useCallback","useEffect","useNavigate","Navbar","CreateRoom","Helmet","deleteUser","Footer","InputUser","Backgroundvideo","RoomList","leaveRoom","roomState","TITLE","user","SetUser","id","App","navigate","navigateToHome","replace","handleTabClose","event","preventDefault","get","console","log","undefined","returnValue","window","addEventListener","removeEventListener"],"sources":["C:/Users/Viktor/Documents/Studium/WuM/Watch2Gether/streamwithme/src/App.js"],"sourcesContent":["import React, { useCallback, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './components/styles/App.css';\r\nimport Navbar from './components/Navbar';\r\nimport CreateRoom from './components/CreateRoom';\r\nimport { Helmet } from 'react-helmet';\r\nimport { deleteUser } from './components/API/UserAPI';\r\nimport Footer from './components/Footer';\r\nimport InputUser from './components/InputUser.js';\r\nimport Backgroundvideo from './components/Backgroundvideo';\r\nimport RoomList from './components/RoomList';\r\nimport { leaveRoom } from './components/API/RoomAPI';\r\nimport { roomState } from './Room';\r\n\r\nconst TITLE = 'StreamWithMe';\r\nexport let user;\r\n\r\nexport function SetUser(id) {\r\n    //Set the user id and delete the previous if necessary\r\n    if (user !== null) deleteUser(user);\r\n    user = id;\r\n}\r\n\r\nconst App = () => {\r\n    const navigate = useNavigate();\r\n    const navigateToHome = useCallback(() => navigate(\"/\", { replace: true }), [navigate] );\r\n    \r\n    useEffect(() => {\r\n        //Delete the current user when the side is closed\r\n        const handleTabClose = event => {\r\n            event.preventDefault();\r\n            if (roomState.get() !== false) {\r\n               leaveRoom(roomState.get(), user);\r\n               navigateToHome();\r\n            }\r\n            console.log('beforeunload event triggered');\r\n            deleteUser(user);\r\n            user = undefined;\r\n            return (event.returnValue = 'Are you sure you want to exit?');\r\n        };\r\n\r\n        window.addEventListener('beforeunload', handleTabClose);\r\n\r\n        return () => window.removeEventListener('beforeunload', handleTabClose);\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <Helmet>\r\n                <title>{TITLE}</title>\r\n            </Helmet>\r\n            <div className='header'>    <Navbar /></div>\r\n            <div className='create'>    <CreateRoom /></div>\r\n            <div className='join'>      <RoomList /></div>\r\n            <div className='footer'>    <Footer /></div>\r\n            <InputUser />\r\n            <Backgroundvideo />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}