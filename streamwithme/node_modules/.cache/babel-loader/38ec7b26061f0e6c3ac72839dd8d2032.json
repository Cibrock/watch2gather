{"ast":null,"code":"import _slicedToArray from \"D:\\\\Hochschule Anhalt\\\\WuB\\\\streamwithme\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Hochschule Anhalt\\\\WuB\\\\streamwithme\\\\src\\\\App.js\";\n\nimport React from 'react';\nimport { useEffect, useState } from 'react';\nimport './components/styles/App.css';\nimport Navbar from './components/Navbar';\nimport CreateRoom from './components/CreateRoom';\nimport { Helmet } from 'react-helmet';\nimport { deleteUser } from './components/API/UserAPI';\nimport Footer from './components/Footer';\nimport InputUser from './components/InputUser';\nimport UserPopup from './components/UserPopup';\nvar TITLE = 'StreamWithMe';\nexport var user;\nexport function SetUser(id) {\n  //Set the user id and delete the previous if necessary\n  if (user !== null) deleteUser(user);\n  user = id;\n}\n\nvar App = function App() {\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      openPopup = _useState2[0],\n      setOpenPopup = _useState2[1];\n\n  useEffect(function () {\n    //Delete the current user when the side is closed\n    var handleTabClose = function handleTabClose(event) {\n      event.preventDefault();\n      console.log('beforeunload event triggered');\n      deleteUser(user);\n      return event.returnValue = 'Are you sure you want to exit?';\n    };\n\n    window.addEventListener('beforeunload', handleTabClose);\n    return function () {\n      return window.removeEventListener('beforeunload', handleTabClose);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Helmet, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, TITLE)), /*#__PURE__*/React.createElement(Navbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(CreateRoom, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Footer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default App;","map":{"version":3,"names":["React","useEffect","useState","Navbar","CreateRoom","Helmet","deleteUser","Footer","InputUser","UserPopup","TITLE","user","SetUser","id","App","openPopup","setOpenPopup","handleTabClose","event","preventDefault","console","log","returnValue","window","addEventListener","removeEventListener"],"sources":["D:/Hochschule Anhalt/WuB/streamwithme/src/App.js"],"sourcesContent":["import React from 'react';\r\nimport { useEffect, useState } from 'react';\r\nimport './components/styles/App.css';\r\nimport Navbar from './components/Navbar';\r\nimport CreateRoom from './components/CreateRoom';\r\nimport { Helmet } from 'react-helmet';\r\nimport { deleteUser } from './components/API/UserAPI';\r\nimport Footer from './components/Footer';\r\nimport InputUser from './components/InputUser';\r\nimport UserPopup from './components/UserPopup';\r\n\r\nconst TITLE = 'StreamWithMe'\r\nexport let user\r\nexport function SetUser(id) {\r\n    //Set the user id and delete the previous if necessary\r\n    if (user !== null)\r\n        deleteUser(user);\r\n    user = id;\r\n}\r\n\r\nconst App = () => {\r\n    const [openPopup, setOpenPopup] = useState(true);\r\n    useEffect(() => {\r\n        //Delete the current user when the side is closed\r\n        const handleTabClose = event => {\r\n            event.preventDefault();\r\n\r\n            console.log('beforeunload event triggered');\r\n            deleteUser(user)\r\n            return (event.returnValue = 'Are you sure you want to exit?');\r\n        };\r\n\r\n        window.addEventListener('beforeunload', handleTabClose);\r\n\r\n        return () => window.removeEventListener('beforeunload', handleTabClose);\r\n    }, []);\r\n    return (\r\n        <div className=\"App\">\r\n            <Helmet>\r\n                <title>{TITLE}</title>\r\n            </Helmet>\r\n            <Navbar />\r\n            {/* <InputUser trigger={user!==null} /> Only show this if the user is not set  */}\r\n            <CreateRoom />\r\n            <Footer/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAO,6BAAP;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,SAASC,MAAT,QAAuB,cAAvB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AAEA,IAAMC,KAAK,GAAG,cAAd;AACA,OAAO,IAAIC,IAAJ;AACP,OAAO,SAASC,OAAT,CAAiBC,EAAjB,EAAqB;EACxB;EACA,IAAIF,IAAI,KAAK,IAAb,EACIL,UAAU,CAACK,IAAD,CAAV;EACJA,IAAI,GAAGE,EAAP;AACH;;AAED,IAAMC,GAAG,GAAG,SAANA,GAAM,GAAM;EAAA,gBACoBZ,QAAQ,CAAC,IAAD,CAD5B;EAAA;EAAA,IACPa,SADO;EAAA,IACIC,YADJ;;EAEdf,SAAS,CAAC,YAAM;IACZ;IACA,IAAMgB,cAAc,GAAG,SAAjBA,cAAiB,CAAAC,KAAK,EAAI;MAC5BA,KAAK,CAACC,cAAN;MAEAC,OAAO,CAACC,GAAR,CAAY,8BAAZ;MACAf,UAAU,CAACK,IAAD,CAAV;MACA,OAAQO,KAAK,CAACI,WAAN,GAAoB,gCAA5B;IACH,CAND;;IAQAC,MAAM,CAACC,gBAAP,CAAwB,cAAxB,EAAwCP,cAAxC;IAEA,OAAO;MAAA,OAAMM,MAAM,CAACE,mBAAP,CAA2B,cAA3B,EAA2CR,cAA3C,CAAN;IAAA,CAAP;EACH,CAbQ,EAaN,EAbM,CAAT;EAcA,oBACI;IAAK,SAAS,EAAC,KAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI,oBAAC,MAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAQP,KAAR,CADJ,CADJ,eAII,oBAAC,MAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAJJ,eAMI,oBAAC,UAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EANJ,eAOI,oBAAC,MAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAPJ,CADJ;AAWH,CA3BD;;AA6BA,eAAeI,GAAf"},"metadata":{},"sourceType":"module"}