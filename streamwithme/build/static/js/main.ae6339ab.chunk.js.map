{"version":3,"sources":["components/Assets/bgvid.860475ab.mp4","components/API/RoomAPI.js","components/Navbar.js","components/API/VideoAPI.js","components/Video.js","components/API/UserAPI.js","components/Footer.js","components/API/ChatAPI.js","components/ChatMessage.js","components/ChatInput.js","components/Chat.js","components/UserList.js","Room.js","components/InputUser.js","components/CreateRoom.js","components/Backgroundvideo.js","components/RoomListElement.js","App.js","components/RoomList.js","Help.js","index.js"],"names":["module","exports","__webpack_require__","p","createRoom","_ref","Object","asyncToGenerator","_regeneratorRuntime","mark","_callee","res","json","wrap","_context","prev","next","fetch","method","sent","abrupt","name","t0","console","log","stop","apply","this","arguments","joinRoom","_ref2","_callee2","roomName","id","_context2","headers","Content-Type","body","JSON","stringify","user","error","_x","_x2","getRoomUsers","_ref3","_callee3","_context3","_x3","leaveRoom","_ref4","_callee4","_context4","_x4","_x5","getRooms","_ref5","_callee5","_context5","titleState","hookstate","Navbar","useHookstate","room","get","navigate","useNavigate","navigateToHome","useCallback","replace","react_default","a","createElement","className","onClick","react_router_dom","to","getVideoStatus","VideoAPI_regeneratorRuntime","changeVideoStatus","status","changeVideoUrl","url","_x6","_x7","getVideoUrl","_x8","changeVideoPosition","position","_x9","_x10","_x11","getVideoPosition","_ref6","_callee6","_context6","_x12","Video","_useState","useState","_useState2","slicedToArray","input","setInput","_useState3","_useState4","setUrl","_useState5","_useState6","setStatus","_useState7","_useState8","isPlaying","setPlaying","_useState9","_useState10","pos","setPos","playerRef","useRef","roomState","useEffect","interval","setInterval","Video_regeneratorRuntime","videoUrl","videoPosition","videoStatus","clearInterval","dataUrl","newUrl","dataStatus","newStatus","dataPos","newPos","Math","abs","current","seekTo","setupVideo","onSubmit","event","undefined","preventDefault","htmlFor","type","placeholder","value","onChange","target","role","lib_default","height","width","poster","border","controls","muted","playing","ref","progressInterval","onReady","onStart","onPause","onProgress","data","round","playedSeconds","onSeek","onEnded","onError","createUser","UserAPI_regeneratorRuntime","_name","SetUser","getUsers","deleteUser","userId","Footer","sendMessage","ChatAPI_regeneratorRuntime","message","getChat","start","ChatMessage","props","text","time","setTime","setUser","getUsername","date","Date","setMilliseconds","resultsub","toISOString","substring","ChatMessage_regeneratorRuntime","list","i","users","length","toString","ChatInput","newMessage","setNewMessage","submitInput","ChatInput_regeneratorRuntime","messages","setNewestMessage","set","Chat","newestMessage","dist_web","promiseFn","Chat_regeneratorRuntime","isLoading","aria-label","out","push","shownMessages","map","m","components_ChatMessage","key","components_ChatInput","UserListElement","UserList","UserList_regeneratorRuntime","UserList_UserListElement","Room","handleTabClose","returnValue","window","addEventListener","removeEventListener","index_module","APP","components_Navbar","components_Video","components_Chat","components_UserList","components_Footer","popupState","InputUser","setName","navigateToRoom","toggle","InputUser_regeneratorRuntime","CreateRoom","instantiateRoom","CreateRoom_regeneratorRuntime","Backgroundvideo","autoPlay","loop","src","video","RoomListElement","enterRoom","RoomListElement_regeneratorRuntime","RoomList","rooms","shownRooms","components_RoomListElement","App","Helmet","components_CreateRoom","components_RoomList","components_InputUser","components_Backgroundvideo","Help","ReactDOM","createRoot","document","getElementById","render","base","react_router","path","element","src_App","src_Room","src_Help"],"mappings":"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","file":"static/js/main.ae6339ab.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bgvid.860475ab.860475ab.mp4\";","export const createRoom = async () => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/rooms/',\r\n            {\r\n                method: \"POST\",\r\n            }\r\n        )\r\n        let json = await res.json()\r\n        return json.name\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const joinRoom = async (roomName, id) => {\r\n    try {\r\n        fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+ '/users',\r\n            {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    \"user\": id\r\n                })\r\n            }\r\n        )\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const getRoomUsers = async (roomName) => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+ '/users',\r\n            {\r\n                method: \"GET\",\r\n            }\r\n        )\r\n        return await res.json()\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const leaveRoom = async (roomName, id) => {\r\n    try {\r\n        fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+ '/users',\r\n            {\r\n                method: \"DELETE\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    \"user\": id\r\n                })\r\n            }\r\n        )\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const getRooms = async () => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/rooms/',\r\n            {\r\n                method: \"GET\",\r\n            }\r\n        )\r\n        return await res.json()\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n","import React, { useCallback } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport \"./styles/Navbar.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { hookstate, useHookstate } from '@hookstate/core';\r\nimport { leaveRoom } from './API/RoomAPI';\r\nimport { user } from '../App';\r\n\r\nexport const titleState = hookstate(\"\");\r\n\r\nconst Navbar = () => {\r\n    useHookstate(titleState);\r\n    const room = titleState.get();\r\n    const navigate = useNavigate();\r\n    const navigateToHome = useCallback(() => navigate(\"/\", { replace: true }), [navigate] );\r\n    const handleNavigate = () => {\r\n        if (room !== \"\") leaveRoom(room, user);\r\n        navigateToHome();\r\n    }\r\n\r\n    return (\r\n        <div className='sum'>\r\n            <div className='logo'>\r\n                <p className=\"logo-link\" onClick={handleNavigate} >StreamWithMe</p>\r\n            </div>\r\n            <div className='logo'>\r\n                {room}\r\n            </div>\r\n            <div className='help'>\r\n                <Link to=\"/Help\">Help</Link>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default Navbar;\r\n","export const getVideoStatus = async (roomName) => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+'/status',\r\n            {\r\n                method: \"GET\",\r\n            }\r\n        )\r\n        return await res.json()\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const changeVideoStatus = async (roomName, id, status) => {\r\n    try {\r\n        fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+'/status',\r\n            {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    \"user\": id,\r\n                    \"status\": status\r\n                }\r\n                )\r\n            }\r\n        )\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const changeVideoUrl = async (roomName, id, url) => {\r\n    try {\r\n        fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+'/video',\r\n            {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    \"user\": id,\r\n                    \"url\":  url\r\n                })\r\n            }\r\n        )\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const getVideoUrl = async (roomName) => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+'/video',\r\n            {\r\n                method: \"GET\",\r\n            }\r\n        )\r\n        return await res.json()\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const changeVideoPosition = async (roomName, id, position) => {\r\n    try {\r\n        fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+'/position',\r\n            {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    \"user\": id,\r\n                    \"position\":  position\r\n                })\r\n            }\r\n        )\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const getVideoPosition = async (roomName) => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+'/position',\r\n            {\r\n                method: \"GET\",\r\n            }\r\n        )\r\n        return await res.json()\r\n    }\r\n    catch (error) {\r\n        console.log(error);\r\n    }\r\n}","import React, { useState, useRef, useEffect } from 'react';\r\nimport ReactPlayer from 'react-player';\r\nimport \"./styles/Video.css\";\r\nimport { user } from '../App';\r\nimport { changeVideoUrl, getVideoUrl, changeVideoStatus, getVideoStatus, getVideoPosition, changeVideoPosition } from './API/VideoAPI';\r\nimport { roomState } from '../Room';\r\n\r\nconst Video = () => {\r\n    const [input, setInput] = useState(\"\");\r\n    const [url, setUrl] = useState(\"\");\r\n    const [status, setStatus] = useState(\"paused\");\r\n    const [isPlaying, setPlaying] = useState(false);\r\n    const [pos, setPos] = useState(0);\r\n\r\n    const playerRef = useRef(null);\r\n    const roomName = roomState.get();\r\n\r\n    const handleInputChange = (event) => {\r\n        //Update the shown text whilst typing\r\n        setInput(event.target.value);\r\n        setPlaying(false);\r\n    };\r\n\r\n    const urlInput = (event) => {\r\n        //On Submit create the user and join a room if possible\r\n        if (user === undefined) console.log(\"user is \" + user);\r\n        else {\r\n            changeVideoUrl(roomName, user, input);\r\n            setUrl(input);\r\n            setInput(\"\");\r\n        }\r\n        event.preventDefault();\r\n    };\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(async () => {\r\n            await videoUrl();\r\n            await videoPosition();\r\n            await videoStatus();\r\n        }, 3000);\r\n        return () => clearInterval(interval);\r\n    });\r\n\r\n    const videoUrl = async () => {\r\n        const dataUrl = await getVideoUrl(roomName);\r\n        const newUrl = dataUrl.url;\r\n        if (newUrl !== url) setUrl(newUrl);\r\n    };\r\n\r\n    const videoStatus = async () => {\r\n        const dataStatus = await getVideoStatus(roomName);\r\n        const newStatus = dataStatus.status;\r\n        if (newStatus !== status) {\r\n            setStatus(newStatus);\r\n            if (newStatus === \"paused\") setPlaying(false);\r\n            else if (newStatus === \"playing\") setPlaying(true);\r\n        }\r\n    };\r\n\r\n    const videoPosition = async () => {\r\n        const dataPos = await getVideoPosition(roomName);\r\n        const newPos = dataPos.position;\r\n        if (Math.abs(newPos - pos) > 3) {\r\n            setPos(newPos);\r\n            playerRef.current.seekTo(newPos, 'seconds');\r\n        }\r\n    };\r\n\r\n    const setupVideo = async () => {\r\n        const dataPos = await getVideoPosition(roomName);\r\n        const newPos = dataPos.position;\r\n        setPos(newPos);\r\n        playerRef.current.seekTo(newPos, 'seconds');\r\n        changeVideoStatus(roomName, user, \"paused\")\r\n    };\r\n\r\n    return (\r\n        <div className=\"video-container\">\r\n            <div className=\"video-input\">\r\n                <form onSubmit={urlInput}>\r\n                    <label htmlFor=\"Url\">\r\n                        Video URL eingeben\r\n                    </label>\r\n                    <input\r\n                        type='text'\r\n                        name=\"Url\"\r\n                        id=\"Url\"\r\n                        placeholder=\"z.B: https://youtu.be/dQw4w9WgXcQ\"\r\n                        value={input}\r\n                        onChange={handleInputChange}\r\n                    />\r\n                    <input type=\"submit\" className=\"submitVideo\" value=\"Video Teilen\" />\r\n                    <div role='presentation' className='previewVideo'>\r\n                        <ReactPlayer\r\n                            height='9em'\r\n                            width='18em'\r\n                            poster={input}\r\n                            url={input}\r\n                        />\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            <div className=\"video\">\r\n                <ReactPlayer\r\n                    height='70vh'\r\n                    width='70vw'\r\n                    border='bold'\r\n                    controls\r\n                    muted\r\n                    playing={isPlaying}\r\n                    url={url}\r\n                    ref={playerRef}\r\n                    progressInterval={3000}\r\n                    onReady={setupVideo}\r\n                    onStart={() => changeVideoStatus(roomName, user, 'playing')}\r\n                    onPause={() => changeVideoStatus(roomName, user, 'paused')}\r\n                    onProgress={(data) => { changeVideoPosition(roomName, user, Math.round(data.playedSeconds)); }}\r\n                    onSeek={(data) => { changeVideoPosition(roomName, user, Math.round(data.playedSeconds)); }}\r\n                    onEnded={() => console.log('onEnd callback')}\r\n                    onError={() => console.log('onError callback')}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Video;\r\n\r\n\r\n","import { SetUser } from \"../../App\"\r\n\r\nexport const createUser = async (_name) => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/users/',\r\n            {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    name: _name\r\n                })\r\n            }\r\n        )\r\n        let json = await res.json()\r\n        SetUser(json.id)\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const getUsers = async () => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/users/',\r\n            {\r\n                method: \"GET\",\r\n            })\r\n        return await res.json();\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const deleteUser = (userId) => {\r\n    try {\r\n         fetch('https://gruppe10.toni-barth.com/users/' + userId,\r\n            {\r\n                method: \"DELETE\"\r\n            })\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}","import React from 'react'\r\nimport \"./styles/Footer.css\"\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <div className='flex-container'>\r\n            <div className='footer-container'>\r\n                <p>Erstellt von: Jannis Salzmann & Vikor Graf von Westarp</p>\r\n                <p>Unter Aufsicht von: Toni Barth</p>\r\n                <p>Als: Projekt \"Watch2gether\" der HS Anhalt</p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Footer;","export const sendMessage = async (roomName, id, message) => {\r\n    try {\r\n        fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+ '/chat',\r\n            {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    \"user\": id,\r\n                    \"message\": message\r\n                })\r\n            }\r\n        )\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const getChat = async (roomName, start) => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+ '/chat',\r\n            {\r\n                method: \"GET\",\r\n                // headers: {\r\n                //     \"Content-Type\": \"application/json\"\r\n                // },\r\n                // body: JSON.stringify({\r\n                //     \"start\": start\r\n                // })\r\n            }\r\n            \r\n        )\r\n        return await res.json();\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { getUsers } from \"./API/UserAPI\";\r\nimport \"./styles/ChatMessage.css\";\r\n\r\nconst ChatMessage = (props) => {\r\n    const [text] = useState(props.text);\r\n    const [time, setTime] = useState(props.time);\r\n    const [user, setUser] = useState(props.user);\r\n\r\n    useEffect(() => {\r\n        getUsername(user);\r\n        let date = new Date(null)\r\n        if(typeof(time) === \"string\") return;\r\n        date.setMilliseconds(time)\r\n        let result = date.toISOString()\r\n        let resultsub = result.substring(11, 19)\r\n        setTime(resultsub)\r\n    });\r\n\r\n    const getUsername = async (id) => {\r\n        const data = await getUsers();\r\n        const list = data.users;\r\n        let name = \"no name found\";\r\n        for (let i = 0; i < list.length; i++) {\r\n            if (toString(list[i].id) === toString(id)) {\r\n                name = list[i].name;\r\n                break;\r\n            }\r\n        }\r\n        setUser(name);\r\n    };\r\n\r\n    return (\r\n        <li className=\"messages\">\r\n            <span className=\"messageTime\">{time}</span>\r\n            <span className=\"messageUser\">{user}:</span>\r\n            <span className=\"messageText\">{text}</span>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default ChatMessage;","import React, { useState } from \"react\";\r\nimport { user } from \"../App\";\r\nimport { roomState } from \"../Room\";\r\nimport { getChat, sendMessage } from \"./API/ChatAPI\";\r\nimport { setNewestMessage } from \"./Chat\";\r\n\r\nconst ChatInput = () => {\r\n    const [newMessage, setNewMessage] = useState(\"\");\r\n    const roomName = roomState.get();\r\n    const handleInputChange = (event) => {\r\n        //Update the shown text whilst typing\r\n        setNewMessage(event.target.value);\r\n    };\r\n\r\n    const submitInput = async (event) => {\r\n        event.preventDefault();\r\n        await sendMessage(roomName, user, newMessage);\r\n        setNewMessage(\"\");\r\n        const data = await getChat(roomName);\r\n        const messages = data.messages;\r\n        if (messages.length > 0)\r\n            setNewestMessage.set(messages[messages.length-1].id);\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={submitInput}>\r\n            <label htmlFor=\"chatMessage\">\r\n                Nachricht eingeben\r\n            </label>\r\n            <input\r\n                name=\"chatMessage\"\r\n                type=\"text\"\r\n                id=\"chatMessage\"\r\n                value={newMessage}\r\n                placeholder=\"Neue Nachricht\"\r\n                onChange={handleInputChange} />\r\n            <input type=\"submit\" value=\"Senden\" />\r\n        </form>\r\n    );\r\n};\r\n\r\n\r\nexport default ChatInput;","import React from \"react\";\r\nimport Async from \"react-async\";\r\nimport { roomState } from \"../Room\";\r\nimport { getChat } from \"./API/ChatAPI\";\r\nimport ChatMessage from \"./ChatMessage\";\r\nimport ChatInput from \"./ChatInput\";\r\nimport { hookstate, useHookstate } from '@hookstate/core';\r\nimport \"./styles/Chat.css\"\r\n\r\nexport const setNewestMessage = hookstate(\"\");\r\n\r\nconst Chat = () => {\r\n    const newestMessage = useHookstate(setNewestMessage);\r\n    const roomName = roomState.get();\r\n\r\n    const shownMessages = (messages) => {\r\n        const out = [];\r\n        console.log(messages);\r\n        if (messages === undefined) return out;\r\n        if (messages.length < 10) return messages;\r\n        for (let i = messages.length-10; i < messages.length; i++) {\r\n            out.push({\r\n                id: messages[i].id,\r\n                time: messages[i].time,\r\n                text: messages[i].text,\r\n                userId: messages[i].userId\r\n            });\r\n        }\r\n        return out;\r\n    };\r\n\r\n    return (\r\n        <Async promiseFn={async () => { return getChat(roomName); }}>\r\n            {({ data, error, isLoading }) => {\r\n                if (isLoading) return \"Loading...\";\r\n                if (error) return 'Something went wrong: ' + error.message;\r\n                if (data)\r\n                    return (\r\n                        <div className=\"flex-chat\">\r\n                            <ul className='chat-list' aria-label=\"Chat\">\r\n                                {shownMessages(data.messages).map(m => (<ChatMessage key={m.id} time={m.time} text={m.text} user={m.userId} />))}\r\n                                <li className=\"chat-input\">\r\n                                    <ChatInput/>\r\n                                    {newestMessage.text}\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    );\r\n                return null;\r\n            }}\r\n        </Async>\r\n    );\r\n};\r\n\r\nexport default Chat;","import React, { useState } from 'react';\r\nimport './styles/UserList.css';\r\nimport Async from \"react-async\";\r\nimport { getRoomUsers } from './API/RoomAPI';\r\nimport { roomState } from '../Room';\r\n\r\nconst UserListElement = (props) => {\r\n    const [name] = useState(props.name);\r\n\r\n    return (\r\n        <li className='element'>\r\n            {name}\r\n        </li>\r\n    );\r\n};\r\n\r\nconst UserList = () => {\r\n    const roomName = roomState.get();\r\n    \r\n    return (\r\n        <Async promiseFn={async () => { return getRoomUsers(roomName); }}>\r\n            {({ data, error, isLoading }) => {\r\n                if (isLoading) return \"Loading...\";\r\n                if (error) return 'Something went wrong: ' + error.message;\r\n                if (data)\r\n                    return (\r\n                        <div className=\"flex-userList\">\r\n                            <div className='userList_container'>\r\n                                <ul className='userList' aria-label=\"User\">\r\n                                    {data.users.map(user => (<UserListElement name={user.name} key={user.id} />))}\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                return null;\r\n            }}\r\n        </Async> \r\n    )\r\n};\r\n\r\nexport default UserList;","import React, { useEffect, useCallback } from \"react\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport \"./components/styles/Room.css\";\r\nimport { user } from \"./App\";\r\nimport { Helmet, HelmetProvider } from 'react-helmet-async';\r\nimport Video from \"./components/Video\";\r\nimport Navbar, { titleState } from \"./components/Navbar\";\r\nimport { leaveRoom } from \"./components/API/RoomAPI\";\r\nimport { deleteUser } from \"./components/API/UserAPI\";\r\nimport Footer from \"./components/Footer\";\r\nimport { hookstate, useHookstate } from '@hookstate/core';\r\nimport Chat from \"./components/Chat\";\r\nimport UserList from \"./components/UserList\";\r\n\r\nexport const roomState = hookstate(false);\r\n\r\nconst Room = () => {\r\n    const APP = 'StreamWithMe';\r\n    const roomName = useHookstate(roomState);\r\n    const navigate = useNavigate();\r\n    const navigateToHome = useCallback(() => navigate(\"/\", { replace: true }), [navigate]);\r\n\r\n    useEffect(() => {\r\n        if (roomName.get() === false) {\r\n            navigateToHome();\r\n        }\r\n        const handleTabClose = event => {\r\n            event.preventDefault();\r\n            titleState.set(\"\")\r\n            leaveRoom(roomName.get(), user);\r\n            deleteUser(user);\r\n            console.log(\"beforeunload\");\r\n            return (event.returnValue = 'Are you sure you want to exit?');\r\n        };\r\n        window.addEventListener('beforeunload', handleTabClose);\r\n\r\n        return () => window.removeEventListener('beforeunload', handleTabClose);\r\n    });\r\n\r\n    return (\r\n        <div className=\"Room\">\r\n            <HelmetProvider>\r\n                <Helmet>\r\n                    <title>{APP + \" - \" + roomName.get()}</title>\r\n                </Helmet>\r\n                <div className=\"header\">    <Navbar /></div>\r\n                <div className=\"video\">     <div><Video /></div></div>\r\n                <div className=\"chat\">      <h2>Chat</h2><Chat /></div>\r\n                <div className=\"users\">     <h2>Users</h2><UserList /></div>\r\n                <div className=\"footer\">    <Footer /></div>\r\n            </HelmetProvider>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Room;","import \"./styles/InputUser.css\";\r\nimport React, { useState, useCallback } from \"react\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { createUser } from \"./API/UserAPI\";\r\nimport { hookstate, useHookstate } from '@hookstate/core';\r\nimport { roomState } from \"../Room\";\r\n\r\nexport const popupState = hookstate(false);\r\n\r\nconst InputUser = () => {\r\n    const [name, setName] = useState(\"\");\r\n    const status = useHookstate(popupState);\r\n    const navigate = useNavigate();\r\n    const navigateToRoom = useCallback(() => navigate(\"/Room\", { replace: true }), [navigate]);\r\n\r\n    const handleInputChange = (event) => {\r\n        //Update the shown text whilst typing\r\n        setName(event.target.value);\r\n    };\r\n\r\n    const toggle = () => {\r\n        status.set(!status.get())\r\n    }\r\n\r\n    const submitInput = async (event) => {\r\n        createUser(name);\r\n        setName(\"\");\r\n        toggle();\r\n        if (roomState.get() !== false) navigateToRoom();\r\n        event.preventDefault();\r\n    };\r\n\r\n    return (status.get()) && (\r\n        <div className=\"modal\">\r\n            <div className=\"overlay\" onClick={toggle}></div>\r\n            <div className=\"modal-content\">\r\n                <h2 className=\"modal-h2\">Bitte erstellen Sie einen Nutzer um Räumen beitreten zu können</h2>\r\n                <button className = \"modal-btn\" onClick={toggle}>×</button>\r\n                <form onSubmit={submitInput}>\r\n                    <label htmlFor=\"UserName\">\r\n                        Name eingeben\r\n                    </label>\r\n                    <input\r\n                        name=\"UserName\"\r\n                        type=\"name\"\r\n                        id=\"UserName\"\r\n                        value={name}\r\n                        placeholder=\"Name\"\r\n                        onChange={handleInputChange} />\r\n                    <input type=\"submit\" value=\"Bestätigen\"/>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default InputUser;","import React, { useCallback } from 'react';\r\nimport \"./styles/CreateRoom.css\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { createRoom, joinRoom } from './API/RoomAPI';\r\nimport { roomState } from '../Room';\r\nimport { user } from '../App';\r\nimport 'reactjs-popup/dist/index.css';\r\nimport { popupState } from './InputUser';\r\nimport { titleState } from './Navbar';\r\n\r\nconst CreateRoom = () => {\r\n    const navigate = useNavigate();\r\n    const navigateToRoom = useCallback(() => navigate(\"/Room\", { replace: true }), [navigate]);\r\n    const instantiateRoom = async () => {\r\n        if (user === undefined) {\r\n            popupState.set(true);\r\n            console.log(\"Blocked create room, user is \" + user);\r\n            return \r\n        }\r\n        const roomName = await createRoom();\r\n        joinRoom(roomName, user)\r\n        roomState.set(roomName)\r\n        titleState.set(roomName)\r\n        navigateToRoom();\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex-container\">\r\n            <div className=\"flex-inner\">\r\n                <div>\r\n                    <h2 className=\"accessibility\">Einen Raum erstellen</h2>\r\n                    <h2 role=\"none\">enjoy with me.</h2>\r\n                </div>\r\n                <div>\r\n                    <button type=\"button\" onClick={instantiateRoom} id=\"roombutton\">\r\n                        Einen Raum Erstellen\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default CreateRoom;","import React from 'react';\r\nimport './styles/Backgroundvideo.css';\r\nimport video from './Assets/bgvid.860475ab.mp4';\r\n\r\nconst Backgroundvideo = () => {\r\n    return (\r\n        <video id=\"background-video\" autoPlay loop>\r\n            <source src={video} type=\"video/mp4\"/>\r\n        </video>\r\n    )\r\n}\r\n\r\nexport default Backgroundvideo","import React, { useCallback, useState } from 'react';\r\nimport \"./styles/RoomListElement.css\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { roomState } from '../Room';\r\nimport { user } from '../App';\r\nimport { popupState } from './InputUser';\r\nimport { titleState } from './Navbar';\r\nimport { joinRoom } from './API/RoomAPI';\r\n\r\nconst RoomListElement = (props) => {\r\n    const [roomName] = useState(props.name);\r\n    const navigate = useNavigate();\r\n    const navigateToRoom = useCallback(() => navigate(\"/Room\", { replace: true }), [navigate]);\r\n\r\n    const enterRoom = async () => {\r\n        if (user === undefined) {\r\n            popupState.set(true);\r\n            console.log(\"Blocked join room, user is \" + user);\r\n            return \r\n        }else{\r\n            roomState.set(roomName);\r\n            titleState.set(roomName)\r\n            joinRoom(roomName, user)\r\n            navigateToRoom();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <li className='element' onClick={enterRoom}>\r\n            {roomName}\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default RoomListElement;","import React from 'react';\r\nimport { useEffect } from 'react';\r\nimport './components/styles/App.css';\r\nimport Navbar, { titleState } from './components/Navbar';\r\nimport CreateRoom from './components/CreateRoom';\r\nimport { Helmet } from 'react-helmet';\r\nimport { deleteUser } from './components/API/UserAPI';\r\nimport Footer from './components/Footer';\r\nimport InputUser from './components/InputUser.js';\r\nimport Backgroundvideo from './components/Backgroundvideo';\r\nimport RoomList from './components/RoomList';\r\n\r\nconst TITLE = 'StreamWithMe'\r\nexport let user\r\n\r\nexport function SetUser(id) {\r\n    //Set the user id and delete the previous if necessary\r\n    if (user !== null) deleteUser(user);\r\n    user = id;\r\n}\r\n\r\nconst App = () => {\r\n    useEffect(() => {\r\n        //Delete the current user when the side is closed\r\n        const handleTabClose = event => {\r\n            event.preventDefault();\r\n\r\n            console.log('beforeunload event triggered');\r\n            deleteUser(user)\r\n            return (event.returnValue = 'Are you sure you want to exit?');\r\n        };\r\n\r\n        window.addEventListener('beforeunload', handleTabClose);\r\n\r\n        return () => window.removeEventListener('beforeunload', handleTabClose);\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <Helmet>\r\n                <title>{TITLE}</title>\r\n            </Helmet>\r\n            <div className='header'>    <Navbar /></div>\r\n            <div className='create'>    <CreateRoom /></div>\r\n            <div className='join'>      <RoomList /></div>\r\n            <div className='footer'>    <Footer /></div>\r\n            <InputUser />\r\n            <Backgroundvideo />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport RoomListElement from \"./RoomListElement\";\r\nimport './styles/RoomList.css';\r\nimport Async from \"react-async\";\r\nimport { getRooms } from './API/RoomAPI';\r\n\r\n\r\nconst RoomList = () => {\r\n    const startIndex = 0;\r\n    const endIndex = 35;\r\n\r\n    const shownRooms = (rooms) => {\r\n        const out = [];\r\n        if (rooms.length === 0) return out;\r\n        for (let i = startIndex; i < endIndex; i++) {\r\n            if (typeof (rooms[i]) == \"object\")\r\n                out[i] = rooms[i].name;\r\n        }\r\n        return out;\r\n    };\r\n\r\n    return (\r\n        <Async promiseFn={getRooms}>\r\n            {({ data, error, isLoading }) => {\r\n                if (isLoading) return \"Loading...\";\r\n                if (error) return 'Something went wrong: ' + error.message;\r\n                if (data)\r\n                    return (\r\n                        <div className=\"flex-rooms\">\r\n                            <div><h2>Einem Raum beitreten</h2></div>\r\n                            <div className=\"flex-room\">\r\n                                <div className='roomlist_container'>\r\n                                    <ul className='roomlist' aria-label=\"Räume\">\r\n                                        {shownRooms(data.rooms).map(room => (<RoomListElement name={room} key={room} />))}\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                return null;\r\n            }}\r\n        </Async>\r\n    )\r\n};\r\n\r\nexport default RoomList;","import React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport Footer from './components/Footer';\r\nimport Navbar from './components/Navbar';\r\nimport \"./components/styles/Help.css\"\r\n\r\n/*\r\n    Dies sollte ein Popup sein oder nicht?\r\n*/\r\nconst Help = () => {\r\n    const APP = 'StreamWithMe'\r\n\r\n    return (\r\n        <div className='Help'>\r\n            <Helmet>\r\n                <title>{APP + \" - \" + \"Help\"}</title>\r\n            </Helmet>\r\n            <Navbar />\r\n            Funktionen erklärt\r\n            <div className=\"footer\">    <Footer /></div>\r\n        </div>\r\n    );\r\n};\r\nexport default Help;","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport App from './App';\r\nimport Room from './Room';\r\nimport Help from './Help';\r\nimport {HashRouter as Router, Routes, Route} from 'react-router-dom'\r\n\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n    <Router base=\"/\">\r\n    <Routes>\r\n        <Route path=\"/\" element={<App/>}/>\r\n        <Route path=\"/Room\" element={<Room/>}/>\r\n        <Route path=\"/Help\" element={<Help/>}/>\r\n    </Routes>\r\n</Router>\r\n);"],"sourceRoot":""}