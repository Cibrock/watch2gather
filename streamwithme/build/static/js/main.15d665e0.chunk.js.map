{"version":3,"sources":["components/API/VideoAPI.js","components/EventHandler.js","components/Video.js","components/API/UserAPI.js","components/Footer.js","components/API/ChatAPI.js","components/ChatMessage.js","components/ChatInput.js","components/Chat.js","components/UserList.js","components/VideoInput.js","components/Help.js","Room.js","components/API/RoomAPI.js","components/Navbar.js","components/InputUser.js","components/CreateRoom.js","components/Backgroundvideo.js","components/RoomListElement.js","components/RoomList.js","App.js","NotFound.js","index.js","components/Assets/bgvid.860475ab.mp4"],"names":["getVideoStatus","_ref","Object","asyncToGenerator","_regeneratorRuntime","mark","_callee","roomName","res","wrap","_context","prev","next","fetch","method","sent","json","abrupt","t0","console","log","stop","_x","apply","this","arguments","changeVideoStatus","_ref2","_callee2","id","status","_context2","headers","Content-Type","body","JSON","stringify","user","error","_x2","_x3","_x4","changeVideoUrl","_ref3","_callee3","url","_context3","_x5","_x6","_x7","getVideoUrl","_ref4","_callee4","_context4","_x8","changeVideoPosition","_ref5","_callee5","position","_context5","_x9","_x10","_x11","getVideoPosition","_ref6","_callee6","_context6","_x12","eventState","hookstate","EventHandler","event","useHookstate","useEffect","timeout","setTimeout","set","clearTimeout","react_default","a","createElement","className","get","aria-live","Video","_useState","useState","_useState2","slicedToArray","setUrl","_useState3","_useState4","setStatus","_useState5","_useState6","isPlaying","setPlaying","_useState7","_useState8","pos","setPos","matches","useMediaQuery","playerRef","useRef","roomState","userState","interval","setInterval","Video_regeneratorRuntime","videoUrl","videoStatus","videoPosition","clearInterval","dataUrl","newUrl","dataStatus","newStatus","dataPos","newPos","Math","abs","current","seekTo","setupVideo","lib_default","height","width","border","controls","muted","playing","ref","progressInterval","onReady","onStart","onPlay","onPause","onProgress","data","playedSeconds","onSeek","onEnded","onError","createUser","UserAPI_regeneratorRuntime","_name","name","deleteUser","getUsers","userId","Footer","sendMessage","ChatAPI_regeneratorRuntime","message","getChat","start","ChatMessage","React","forwardRef","props","text","propTime","time","setTime","undefined","date","Date","setMilliseconds","toISOString","substring","role","ChatInput","newMessage","setNewMessage","submitInput","ChatInput_regeneratorRuntime","preventDefault","onSubmit","htmlFor","type","value","placeholder","maxLength","autoComplete","onChange","target","Chat","displayed","setDisplayed","endRef","lastCount","setLastCount","scrollToBottom","scrollIntoView","behavior","length","Chat_regeneratorRuntime","shownMessages","messages","data2","list","users","forEach","find","element","Fragment","aria-label","tabIndex","onFocus","map","m","components_ChatMessage","key","components_ChatInput","UserListElement","UserList","UserList_regeneratorRuntime","shownUsers","getRoomUsers","UserList_UserListElement","VideoInput","input","setInput","popupHelpStatus","Help","toggle","react_modal_lib_default","overlayClassName","isOpen","onRequestClose","shouldFocusAfterRender","shouldCloseOnOverlayClick","shouldCloseOnEsc","shouldReturnFocusAfterClose","preventScroll","contentLabel","onClick","Room","navigate","useNavigate","navigateToHome","useCallback","replace","handleTabClose","leaveRoom","returnValue","window","addEventListener","removeEventListener","index_module","components_Navbar","components_UserList","components_Chat","components_VideoInput","components_Video","components_Footer","components_EventHandler","components_Help","createRoom","RoomAPI_regeneratorRuntime","joinRoom","roomTitleState","getRooms","Navbar","room","title","setTitle","roomTitle","checkTitle","Navbar_regeneratorRuntime","u","handleNavigate","onKeyDown","e","navigator","clipboard","writeText","ReactModal","setAppElement","popupInputState","InputUser","navigateToRoom","setName","InputUser_regeneratorRuntime","CreateRoom","instantiateRoom","CreateRoom_regeneratorRuntime","Backgroundvideo","autoPlay","loop","src","video","RoomListElement","watchers","viewers","setViewers","getViewers","RoomListElement_regeneratorRuntime","enterRoom","RoomList","RoomList_regeneratorRuntime","shownRooms","rooms","components_RoomListElement","App","path","useLocation","pathname","navigateToNotFound","checkRoom","App_regeneratorRuntime","Helmet","components_InputUser","components_CreateRoom","components_RoomList","components_Backgroundvideo","NotFound","ReactDOM","createRoot","document","getElementById","render","react_router_dom","base","react_router","src_App","src_Room","src_NotFound","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.15d665e0.chunk.js","sourcesContent":["export const getVideoStatus = async (roomName) => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+'/status',\r\n            {\r\n                method: \"GET\",\r\n            }\r\n        )\r\n        return await res.json()\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const changeVideoStatus = async (roomName, id, status) => {\r\n    try {\r\n        fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+'/status',\r\n            {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    \"user\": id,\r\n                    \"status\": status\r\n                }\r\n                )\r\n            }\r\n        )\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const changeVideoUrl = async (roomName, id, url) => {\r\n    try {\r\n        fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+'/video',\r\n            {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    \"user\": id,\r\n                    \"url\":  url\r\n                })\r\n            }\r\n        )\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const getVideoUrl = async (roomName) => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+'/video',\r\n            {\r\n                method: \"GET\",\r\n            }\r\n        )\r\n        return await res.json()\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const changeVideoPosition = async (roomName, id, position) => {\r\n    try {\r\n        fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+'/position',\r\n            {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    \"user\": id,\r\n                    \"position\":  position\r\n                })\r\n            }\r\n        )\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const getVideoPosition = async (roomName) => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+'/position',\r\n            {\r\n                method: \"GET\",\r\n            }\r\n        )\r\n        return await res.json()\r\n    }\r\n    catch (error) {\r\n        console.log(error);\r\n    }\r\n}","import React from \"react\";\r\nimport { hookstate, useHookstate } from \"@hookstate/core\";\r\nimport { useEffect } from \"react\";\r\nimport \"./styles/EventHandler.css\";\r\n\r\nexport const eventState = hookstate(\"\");\r\n\r\nconst EventHandler = () => {\r\n    const event = useHookstate(eventState);\r\n\r\n    useEffect(() => {\r\n        const timeout = setTimeout(() => { event.set(\"\") }, 3000);\r\n        return () => clearTimeout(timeout)\r\n    });\r\n\r\n    return (\r\n        <div className={event.get()!==\"\"?\"event-flex-shown\":\"event-flex-hidden\"} aria-live=\"polite\">\r\n            {event.get()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EventHandler;","import React, { useState, useRef, useEffect } from 'react';\r\nimport ReactPlayer from 'react-player';\r\nimport \"./styles/Video.css\";\r\nimport { userState } from '../App';\r\nimport { getVideoUrl, changeVideoStatus, getVideoStatus, getVideoPosition, changeVideoPosition } from './API/VideoAPI';\r\nimport { roomState } from '../Room';\r\nimport { eventState } from './EventHandler';\r\nimport {useMediaQuery } from '@react-hook/media-query';\r\n\r\nconst Video = () => {\r\n    const [url, setUrl] = useState(\"\");\r\n    const [status, setStatus] = useState(\"paused\");\r\n    const [isPlaying, setPlaying] = useState(false);\r\n    const [pos, setPos] = useState(0);\r\n    const matches = useMediaQuery(\"only screen and (max-width:900px)\");\r\n\r\n    const playerRef = useRef();\r\n    const roomName = roomState.get();\r\n    const user = userState.get();\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(async () => {\r\n            await videoUrl();\r\n            await videoStatus();\r\n            await videoPosition();\r\n        }, 1000);\r\n        return () => clearInterval(interval);\r\n    });\r\n\r\n    const videoUrl = async () => {\r\n        const dataUrl = await getVideoUrl(roomName);\r\n        const newUrl = dataUrl.url;\r\n        if (newUrl !== url) {\r\n            eventState.set(\"Neues Video\")\r\n            setUrl(newUrl)\r\n        };\r\n    };\r\n\r\n    const videoStatus = async () => {\r\n        const dataStatus = await getVideoStatus(roomName);\r\n        const newStatus = dataStatus.status;\r\n        if (newStatus !== status) {\r\n            setStatus(newStatus);\r\n            eventState.set(\"Das Video \" + (newStatus===\"paused\" ? \"wurde pausiert\" : \" wurde entpausiert\"))\r\n            if (newStatus === \"paused\") setPlaying(false);\r\n            else if (newStatus === \"playing\") setPlaying(true);\r\n        }\r\n    };\r\n\r\n    const videoPosition = async () => {\r\n        const dataPos = await getVideoPosition(roomName);\r\n        const newPos = dataPos.position;\r\n        if (Math.abs(newPos - pos) > 3) {\r\n            playerRef.current.seekTo(newPos, 'seconds');\r\n            eventState.set(\"Es wurde \"+ (newPos>pos?\"vor\":\"zurück\") + \"gespult\")\r\n        }\r\n        setPos(newPos);\r\n    };\r\n\r\n    const setupVideo = async () => {\r\n        const dataPos = await getVideoPosition(roomName);\r\n        const newPos = dataPos.position;\r\n        setPos(newPos);\r\n        playerRef.current.seekTo(newPos, 'seconds');\r\n        changeVideoStatus(roomName, user, \"paused\");\r\n    };\r\n\r\n    return (\r\n        <div className=\"video-container\">\r\n            <ReactPlayer\r\n                height={matches ? '25vh' : '70vh'}\r\n                width={matches ? '96vw' : '72vw'}\r\n                border='bold'\r\n                controls\r\n                muted\r\n                playing={isPlaying}\r\n                url={url}\r\n                ref={playerRef}\r\n                progressInterval={1000}\r\n                onReady={setupVideo}\r\n                onStart={() => changeVideoStatus(roomName, user, 'playing')}\r\n                onPlay={() => changeVideoStatus(roomName, user, 'playing')}\r\n                onPause={() => changeVideoStatus(roomName, user, 'paused')}\r\n                onProgress={(data) => changeVideoPosition(roomName, user, data.playedSeconds)}\r\n                onSeek={(data) => changeVideoPosition(roomName, user, data.playedSeconds) }\r\n                onEnded={() => eventState.set(\"Das Video ist vorbei.\")}\r\n                onError={() => eventState.set(\"Es ist ein Fehler beim Anzeigen des Videos passiert.\")}\r\n            />\r\n            <div className='video-outline' />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Video;\r\n\r\n\r\n","import { userState } from \"../../App\"\r\n\r\nexport const createUser = async (_name) => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/users/',\r\n            {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    name: _name\r\n                })\r\n            }\r\n        )\r\n        let json = await res.json()\r\n        if (userState.get() !== false) deleteUser(userState.get());\r\n        userState.set(json.id);\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const getUsers = async () => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/users/',\r\n            {\r\n                method: \"GET\",\r\n            })\r\n        return await res.json();\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const deleteUser = (userId) => {\r\n    try {\r\n        fetch('https://gruppe10.toni-barth.com/users/' + userId,\r\n            {\r\n                method: \"DELETE\"\r\n            })\r\n        userState.set(false);\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}","import React from 'react'\r\nimport \"./styles/Footer.css\"\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <div className='footer-container'>\r\n            <p className='footer-p'>Erstellt von:              Jannis Salzmann & Viktor Graf von Westarp</p>\r\n            <p className='footer-p'>Unter Aufsicht von:  Toni Barth</p>\r\n            <p className='footer-p footer-right'>Als Projekt:               \"Watch2gether\" der HS Anhalt</p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Footer;","export const sendMessage = async (roomName, id, message) => {\r\n    try {\r\n        fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+ '/chat',\r\n            {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    \"user\": id,\r\n                    \"message\": message\r\n                })\r\n            }\r\n        )\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const getChat = async (roomName, start) => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+ '/chat',\r\n            {\r\n                method: \"GET\",\r\n                // headers: {\r\n                //     \"Content-Type\": \"application/json\"\r\n                // },\r\n                // body: JSON.stringify({\r\n                //     \"start\": start\r\n                // })\r\n            }\r\n            \r\n        )\r\n        return await res.json();\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport \"./styles/ChatMessage.css\";\r\n\r\nconst ChatMessage = React.forwardRef((props,ref) => {\r\n    const [text] = useState(props.text);\r\n    const propTime = props.time\r\n    const [time, setTime] = useState();\r\n    const [name] = useState(props.name);\r\n\r\n    useEffect(() => {\r\n        if (time !== undefined) return;\r\n        const date = new Date(null);\r\n        date.setMilliseconds(propTime);\r\n        setTime(date.toISOString().substring(11, 16));\r\n    });\r\n\r\n    return (\r\n        <div className=\"messages\" role=\"listitem\" ref={ref}>\r\n            <span className=\"accessibility\">Neue Nachricht</span>\r\n            <span className=\"messageTime\">{time}</span>\r\n            <span className=\"messageUser\">{name}:</span>\r\n            <span className=\"messageText\">{text}</span>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default ChatMessage;","import React, { useState } from \"react\";\r\nimport { userState } from \"../App\";\r\nimport { roomState } from \"../Room\";\r\nimport { sendMessage } from \"./API/ChatAPI\";\r\nimport \"./styles/ChatInput.css\"\r\n\r\n\r\nconst ChatInput = () => {\r\n    const [newMessage, setNewMessage] = useState(\"\");\r\n    const roomName = roomState.get();\r\n    const user = userState.get();\r\n    const handleInputChange = (event) => {\r\n        setNewMessage(event.target.value);\r\n    };\r\n\r\n    const submitInput = async (event) => {\r\n        event.preventDefault();\r\n        await sendMessage(roomName, user, newMessage);\r\n        setNewMessage(\"\");\r\n    };\r\n\r\n    return (\r\n        <form className=\"chat-form\" onSubmit={submitInput}>\r\n            <label className=\"chat-input-label\" htmlFor=\"chatMessage\">\r\n                Nachricht eingeben\r\n            </label>\r\n            <input\r\n                name=\"chatMessage\"\r\n                type=\"text\"\r\n                id=\"chatMessage\"\r\n                value={newMessage}\r\n                placeholder=\"Neue Nachricht\"\r\n                maxLength=\"500\"\r\n                autoComplete=\"off\"\r\n                onChange={handleInputChange}/>\r\n        </form>\r\n    );\r\n};\r\n\r\n\r\nexport default ChatInput;","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { roomState } from \"../Room\";\r\nimport { getChat } from \"./API/ChatAPI\";\r\nimport ChatMessage from \"./ChatMessage\";\r\nimport ChatInput from \"./ChatInput\";\r\nimport \"./styles/Chat.css\";\r\nimport { getUsers } from \"./API/UserAPI\";\r\n\r\nconst Chat = () => {\r\n    const roomName = roomState.get();\r\n    const [displayed, setDisplayed] = useState([]);\r\n    const endRef = useRef();\r\n    const [lastCount, setLastCount] = useState(0);\r\n\r\n    const scrollToBottom = () => endRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n    const focusOnLast = () => endRef.current.focus();\r\n\r\n    useEffect(() => {\r\n        if (lastCount < displayed.length) {\r\n            setLastCount(displayed.length);\r\n            scrollToBottom();\r\n        }\r\n        const interval = setInterval(async () => { await shownMessages();}, 3000);\r\n        return () => clearInterval(interval);\r\n    });\r\n\r\n    const shownMessages = async () => {\r\n        const data = await getChat(roomName);\r\n        const messages = data.messages;\r\n        if (messages === undefined) return;\r\n        const data2 = await getUsers();\r\n        const list = data2.users;\r\n        messages.forEach((message)=>{\r\n            const user = list.find((element) => { return message.userId === element.id; })\r\n            const name = user ? user.name : \"[gelöscht]\"\r\n            message.user = name;\r\n        })\r\n        setDisplayed(messages);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <h2 className='chat-header'>Chat</h2>\r\n            <div className='chat-list' role=\"list\" aria-label=\"Chat\" aria-live=\"polite\" tabIndex=\"0\" onFocus={scrollToBottom}>\r\n                {displayed.map((m) => <ChatMessage key={m.id} time={m.time} text={m.text} name={m.user}/> )}\r\n            </div>\r\n            <div className=\"chat-input\"> <ChatInput /> </div>\r\n            <div ref={endRef}/>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Chat;","import React, { useState, useEffect, useRef } from 'react';\r\nimport './styles/UserList.css';\r\nimport { getRoomUsers } from './API/RoomAPI';\r\nimport { roomState } from '../Room';\r\n\r\nconst UserListElement = (props) => {\r\n    const [name] = useState(props.name);\r\n    return (\r\n        <div className='user-element' role=\"listitem\">\r\n            <span className=\"accessibility\">Neuer User</span>\r\n            {name}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst UserList = () => {\r\n    const roomName = roomState.get();\r\n    const [displayed, setDisplayed] = useState([]);\r\n    const endRef = useRef(null);\r\n    const [lastCount, setLastCount] = useState(0);\r\n\r\n    const scrollToBottom = () => {\r\n        endRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (lastCount < displayed.length) {\r\n            setLastCount(displayed.length);\r\n            scrollToBottom();\r\n        }\r\n        const interval = setInterval( async () => { await shownUsers(); }, 1000);\r\n        return () => clearInterval(interval);\r\n    });\r\n\r\n    const shownUsers = async () => {\r\n        const data = await getRoomUsers(roomName);\r\n        const users = data.users;\r\n        if (users === undefined) return;\r\n        setDisplayed(users);\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex-user-list\">\r\n            <h2 className='user-list-header'>Users</h2>\r\n            <div className='user-list' role=\"list\" aria-label=\"User\" aria-live=\"polite\">\r\n                {displayed.map(user => (<UserListElement name={user.name} key={user.id} />))}\r\n                <div ref={endRef} />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UserList;","import React, { useState } from \"react\";\r\nimport { userState } from \"../App\";\r\nimport { roomState } from \"../Room\";\r\nimport { changeVideoUrl } from './API/VideoAPI';\r\nimport \"./styles/VideoInput.css\";\r\n\r\nconst VideoInput = () => {\r\n    const roomName = roomState.get();\r\n    const user = userState.get();\r\n    const [input, setInput] = useState(\"\");\r\n    const handleInputChange = (event) => {\r\n        setInput(event.target.value);\r\n    };\r\n\r\n    const urlInput = (event) => {\r\n        event.preventDefault();\r\n        changeVideoUrl(roomName, user, input);\r\n        setInput(\"\");\r\n    };\r\n\r\n    return (\r\n        <div className=\"video-input\">\r\n            <form className=\"video-input-form\" onSubmit={urlInput}>\r\n                <label htmlFor=\"Url\" className=\"video-input-label\">\r\n                    Video URL eingeben\r\n                </label>\r\n                <input\r\n                    type='text'\r\n                    name=\"Url\"\r\n                    id=\"Url\"\r\n                    placeholder=\"z.B: https://youtu.be/dQw4w9WgXcQ\"\r\n                    value={input}\r\n                    onChange={handleInputChange}\r\n                />\r\n                <input type=\"submit\" className=\"submitVideo\" value=\"Teilen\" />\r\n            </form>\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nexport default VideoInput;","import React from 'react';\r\nimport \"./styles/Help.css\";\r\nimport { hookstate, useHookstate } from '@hookstate/core';\r\nimport ReactModal from 'react-modal';\r\n\r\nexport const popupHelpStatus = hookstate(false)\r\nconst Help = () => {\r\n    const status = useHookstate(popupHelpStatus);\r\n\r\n    const toggle = () => { status.set(!status) }\r\n\r\n    return (\r\n        <ReactModal\r\n            overlayClassName=\"overlay\"\r\n            className=\"modal-help-content\"\r\n            isOpen={status.get()}\r\n            onRequestClose={toggle}\r\n            shouldFocusAfterRender={true}\r\n            shouldCloseOnOverlayClick={true}\r\n            shouldCloseOnEsc={true}\r\n            shouldReturnFocusAfterClose={true}\r\n            preventScroll={true}\r\n            contentLabel={\"Popup für Hilfe\"}\r\n        >\r\n            <h2>Funktionen erklärt</h2>\r\n            <span >Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore\r\n                et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.\r\n                Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit\r\n                amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam\r\n                erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren,\r\n                no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing\r\n                elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.\r\n                At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata\r\n                sanctus est Lorem ipsum dolor sit amet.\r\n\r\n                Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu\r\n                feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril\r\n                delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet,</span>\r\n            <button className=\"modal-btn\" onClick={toggle}>×</button>\r\n        </ReactModal>\r\n    );\r\n};\r\nexport default Help;","import React, { useEffect, useCallback } from \"react\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport \"./components/styles/Room.css\";\r\nimport { userState } from \"./App\";\r\nimport { Helmet, HelmetProvider } from 'react-helmet-async';\r\nimport Video from \"./components/Video\";\r\nimport Navbar from \"./components/Navbar\";\r\nimport { leaveRoom } from \"./components/API/RoomAPI\";\r\nimport { deleteUser } from \"./components/API/UserAPI\";\r\nimport Footer from \"./components/Footer\";\r\nimport { hookstate, useHookstate } from '@hookstate/core';\r\nimport Chat from \"./components/Chat\";\r\nimport UserList from \"./components/UserList\";\r\nimport VideoInput from \"./components/VideoInput\";\r\nimport Help from \"./components/Help\";\r\nimport EventHandler from './components/EventHandler';\r\n\r\nexport const roomState = hookstate(false);\r\n\r\nconst Room = () => {\r\n    const roomName = useHookstate(roomState);\r\n    const navigate = useNavigate();\r\n    const navigateToHome = useCallback(() => navigate(\"/\", { replace: true }), [navigate]);\r\n\r\n    useEffect(() => {\r\n        if (roomName.get() === false) {\r\n            navigateToHome();\r\n        }\r\n        const handleTabClose = event => {\r\n            event.preventDefault();\r\n            leaveRoom(roomName.get(), userState.get());\r\n            deleteUser(userState.get());\r\n            console.log(\"beforeunload\");\r\n            return (event.returnValue = 'Are you sure you want to exit?');\r\n        };\r\n        window.addEventListener('beforeunload', handleTabClose);\r\n\r\n        return () => window.removeEventListener('beforeunload', handleTabClose);\r\n    });\r\n\r\n    return (\r\n        <div className=\"Room\">\r\n            <HelmetProvider>\r\n                <Helmet>\r\n                    <title>{\"StreamWithMe - \" + roomName.get()}</title>\r\n                </Helmet>\r\n                <div className=\"header\">    <Navbar /> </div>\r\n                <div className=\"users\">     <UserList /> </div>\r\n                <div className=\"chat\">      <Chat /> </div>\r\n                <div className=\"videoInput\"><VideoInput/> </div>\r\n                <div className=\"video\">     <Video /> </div>\r\n                <div className=\"footer\">    <Footer /> </div>\r\n                <EventHandler/>\r\n                <Help/>\r\n            </HelmetProvider>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Room;","import { roomState } from \"../../Room\";\r\nimport { roomTitleState } from \"../Navbar\";\r\n\r\nexport const createRoom = async () => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/rooms/',\r\n            {\r\n                method: \"POST\",\r\n            }\r\n        );\r\n        let json = await res.json();\r\n        return json.name;\r\n    }\r\n    catch (error) {\r\n        console.log(error);\r\n    }\r\n};\r\nexport const joinRoom = async (roomName, id) => {\r\n    try {\r\n        fetch('https://gruppe10.toni-barth.com/rooms/' + roomName + '/users',\r\n            {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    \"user\": id\r\n                })\r\n            }\r\n        );\r\n    }\r\n    catch (error) {\r\n        console.log(error);\r\n    }\r\n};\r\nexport const getRoomUsers = async (roomName) => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/rooms/' + roomName + '/users',\r\n            {\r\n                method: \"GET\",\r\n            }\r\n        );\r\n        return await res.json();\r\n    }\r\n    catch (error) {\r\n        console.log(error);\r\n    }\r\n};\r\nexport const leaveRoom = async (roomName, id) => {\r\n    try {\r\n        fetch('https://gruppe10.toni-barth.com/rooms/' + roomName + '/users',\r\n            {\r\n                method: \"DELETE\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    \"user\": id\r\n                })\r\n            }\r\n        );\r\n        roomTitleState.set(false);\r\n        roomState.set(false);\r\n    }\r\n    catch (error) {\r\n        console.log(error);\r\n    }\r\n};\r\n\r\nexport const getRooms = async () => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/rooms/',\r\n            {\r\n                method: \"GET\",\r\n            }\r\n        );\r\n        return await res.json();\r\n    }\r\n    catch (error) {\r\n        console.log(error);\r\n    }\r\n};\r\n","import React, { useCallback, useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport \"./styles/navbar.css\";\r\nimport { hookstate, useHookstate } from '@hookstate/core';\r\nimport { leaveRoom } from './API/RoomAPI';\r\nimport { userState } from '../App';\r\nimport { getUsers } from './API/UserAPI';\r\nimport { popupHelpStatus } from './Help';\r\nimport { eventState } from './EventHandler';\r\n\r\nexport const roomTitleState = hookstate(\"\");\r\n\r\nconst Navbar = () => {\r\n    useHookstate(roomTitleState);\r\n    let linkIsVis = false;\r\n    const room = roomTitleState.get();\r\n    const [title,setTitle] = useState(\"Me\");\r\n    const [roomTitle,setRoomTitle] = useState(room);\r\n\r\n    const navigate = useNavigate();\r\n    const navigateToHome = useCallback(() => navigate(\"/\", { replace: true }), [navigate] );\r\n\r\n    useEffect(()=>{checkTitle()});\r\n\r\n    const checkTitle = async () => {\r\n        if (userState.get()) {\r\n            const data = await getUsers();\r\n            const users = data.users;\r\n            if(users===undefined){\r\n                setTitle(\"Me\")\r\n            }else{\r\n                const u = users.find((u)=> userState.get()===u.id)\r\n                setTitle(u.name);\r\n            }\r\n        }\r\n        else setTitle(\"Me\");\r\n    }\r\n\r\n    const handleKeyDown = (e) => { if (e.key === \"Enter\") handleNavigate(); }\r\n    const handleNavigate = () => {\r\n        if (room !== false) {\r\n            roomTitleState.set(false);\r\n            leaveRoom(room, userState.get());\r\n        }\r\n        navigateToHome();\r\n    }\r\n\r\n    const toggleHelp = () => { popupHelpStatus.set(true); }\r\n\r\n    const copyLink = () => {\r\n            navigator.clipboard.writeText(\"https://cibrock.github.io/watch2gather/#/\"+room);\r\n            eventState.set(\"✔ Link in Zwischenablage kopiert\");\r\n    }\r\n\r\n    return (\r\n        <div className='sum'>\r\n            <div className='logo home'>\r\n                <div tabIndex=\"0\" role=\"HomeButton\" className=\"logo-link\" onClick={handleNavigate} onKeyDown={handleKeyDown} >\r\n                    <span className='accessibility'>HomeButton</span>\r\n                    <div className='logo-stream'>StreamWith</div>\r\n                    <div className='logo-title'>{title}</div>\r\n                </div>\r\n            </div>\r\n            <div className='logo title'>\r\n                <span className='accessibility'>LinkGenerieren</span>\r\n                <p className='logo-link' role=\"RoomLinkGenerator\" tabIndex={roomTitle ? \"0\" : \"-1\" } onClick={copyLink}>{roomTitle ? roomTitle+\" 🖫\" : null}</p>\r\n            </div>\r\n            <div className='logo help'>\r\n                <span className='accessibility'>HelpButton</span>\r\n                <p className=\"logo-link\" tabIndex=\"0\" onClick={toggleHelp}>Hilfe</p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default Navbar;\r\n","import \"./styles/InputUser.css\";\r\nimport React, { useState, useCallback } from \"react\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { createUser } from \"./API/UserAPI\";\r\nimport { hookstate, useHookstate } from '@hookstate/core';\r\nimport { roomState } from \"../Room\";\r\nimport { createRoom, joinRoom } from \"./API/RoomAPI\";\r\nimport { userState } from \"../App\";\r\nimport ReactModal from 'react-modal';\r\nimport { roomTitleState } from \"./Navbar\";\r\nReactModal.setAppElement('#root');\r\n\r\nexport const popupInputState = hookstate(false);\r\n\r\nconst InputUser = () => {\r\n    const navigate = useNavigate();\r\n    const navigateToRoom = useCallback(() => navigate(\"/Room\", { replace: true }), [navigate]);\r\n    const [name, setName] = useState(\"\");\r\n    const status = useHookstate(popupInputState);\r\n\r\n    const handleInputChange = (event) => { setName(event.target.value); };\r\n    const toggle = () => { status.set(!status.get()) }\r\n\r\n    const submitInput = async (event) => {\r\n        event.preventDefault();\r\n        await createUser(name);\r\n        if (roomState.get() === false) {\r\n            const roomName = await createRoom();\r\n            roomState.set(roomName);\r\n            roomTitleState.set(roomName);\r\n        }\r\n        joinRoom(roomState.get(),userState.get())\r\n        navigateToRoom();\r\n        toggle();\r\n        setName(\"\");\r\n    };\r\n    return (\r\n        <ReactModal \r\n            overlayClassName = \"overlay\"\r\n            className = \"modal-content\"\r\n            isOpen={status.get()}\r\n            onRequestClose={toggle}\r\n            shouldFocusAfterRender = {true}\r\n            shouldCloseOnOverlayClick = {true} \r\n            shouldCloseOnEsc = {true}\r\n            shouldReturnFocusAfterClose = {true}\r\n            preventScroll = {true}\r\n            contentLabel={\"Popup für Nutzernameneingabe geöffnet\"}\r\n            >\r\n            <div className = \"modal-content\">\r\n                <h2 className=\"modal-h2\">Bitte erstellen Sie einen Nutzer um Räumen beitreten zu können</h2>\r\n                <form onSubmit={submitInput}>\r\n                    <label htmlFor=\"UserName\" className=\"input-user-label\">\r\n                        Name eingeben\r\n                    </label>\r\n                    <input\r\n                        name=\"UserName\"\r\n                        type=\"name\"\r\n                        id=\"UserName\"\r\n                        value={name}\r\n                        placeholder=\"Name\"\r\n                        maxLength = \"20\"\r\n                        onChange={handleInputChange} />\r\n                    <input type=\"submit\" value=\"Bestätigen\"/>\r\n                </form>\r\n                <button className = \"modal-btn\" onClick={toggle}>×</button>\r\n            </div>\r\n        </ReactModal>\r\n    );\r\n};\r\nexport default InputUser;","import React, { useCallback } from 'react';\r\nimport \"./styles/CreateRoom.css\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { createRoom, joinRoom } from './API/RoomAPI';\r\nimport { roomState } from '../Room';\r\nimport { userState } from '../App';\r\nimport 'reactjs-popup/dist/index.css';\r\nimport { popupInputState } from './InputUser';\r\nimport { roomTitleState } from './Navbar';\r\n\r\nconst CreateRoom = () => {\r\n    const navigate = useNavigate();\r\n    const navigateToRoom = useCallback(() => navigate(\"/Room\", { replace: true }), [navigate]);\r\n    const instantiateRoom = async () => {\r\n        if (userState.get() === false) {\r\n            popupInputState.set(true);\r\n            console.log(\"Blocked create room, user is not set\");\r\n        }else{\r\n            const roomName = await createRoom();\r\n            roomState.set(roomName);\r\n            roomTitleState.set(roomName);\r\n            joinRoom(roomName, userState.get());\r\n            navigateToRoom();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex-container\">\r\n            <div className=\"flex-inner\">\r\n                <div>\r\n                    <h2 className=\"accessibility\">Einen Raum erstellen</h2>\r\n                    <h2 role=\"none\">enjoy with me.</h2>\r\n                </div>\r\n                <button type=\"button\" onClick={instantiateRoom} id=\"roombutton\">\r\n                    Einen Raum Erstellen\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default CreateRoom;","import React from 'react';\r\nimport './styles/Backgroundvideo.css';\r\nimport video from './Assets/bgvid.860475ab.mp4';\r\n\r\nconst Backgroundvideo = () => {\r\n    return (\r\n        <video id=\"background-video\" autoPlay loop>\r\n            <source src={video} type=\"video/mp4\"/>\r\n        </video>\r\n    )\r\n}\r\n\r\nexport default Backgroundvideo","import React, { useCallback, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport \"./styles/RoomListElement.css\";\r\nimport { roomState } from '../Room';\r\nimport { userState } from '../App';\r\nimport { popupInputState } from './InputUser';\r\nimport { roomTitleState } from './Navbar';\r\nimport { getRoomUsers, joinRoom } from './API/RoomAPI';\r\nimport { useEffect } from 'react';\r\n\r\nconst RoomListElement = (props) => {\r\n    const [roomName] = useState(props.name);\r\n    const [viewers,setViewers] = useState(props.watchers ? (\"are \" + props.watchers + \" people\") : (\"ist eine Person\"));\r\n    const navigate = useNavigate();\r\n    const navigateToRoom = useCallback(() => navigate(\"/Room\", { replace: true }), [navigate]);\r\n    \r\n    useEffect(()=>{ getViewers(); });\r\n    \r\n    const getViewers = async () => {\r\n        const data = await getRoomUsers(roomName);\r\n        const users = data.users;\r\n        setViewers(users.length === 1 ? \"1 Person is\" : users.length + \" Leute \");\r\n    }\r\n\r\n    const handleKeyDown = (e) => { if (e.key === \"Enter\") enterRoom(); }\r\n    const enterRoom = async () => {\r\n        roomState.set(roomName);\r\n        roomTitleState.set(roomName);\r\n        if (userState.get() === false) {\r\n            popupInputState.set(true);\r\n            console.log(\"Blocked join room, user is not set\");\r\n        } else {\r\n            joinRoom(roomName, userState.get());                \r\n            navigateToRoom();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div tabIndex=\"0\" className='room-element' onClick={enterRoom} onKeyDown={handleKeyDown}>\r\n            <span className='room-element-info accessibility'>Raum</span>\r\n            <span className='room-element-name'>{roomName}</span>\r\n            <span className='room-element-info'>{viewers} streamen</span>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RoomListElement;","import React, { useEffect, useState } from 'react';\r\nimport RoomListElement from \"./RoomListElement\";\r\nimport './styles/RoomList.css';\r\nimport { getRooms} from './API/RoomAPI';\r\n\r\nconst RoomList = () => {\r\n    const [displayed, setDisplayed] = useState([]);\r\n    \r\n    useEffect(() => {\r\n        const interval = setInterval(async () => { await shownRooms(); }, 1000);\r\n        return () => clearInterval(interval);\r\n    });\r\n\r\n    const shownRooms = async () => {\r\n        const data = await getRooms();\r\n        const rooms = data.rooms;\r\n        if (rooms === undefined) return;\r\n        setDisplayed(rooms);\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex-rooms\">\r\n            <h2 className='room-header'>Einem Raum beitreten</h2>\r\n            <div className='room-list' aria-label=\"Räume\">\r\n                {displayed.map(e => (<RoomListElement name={e.name} key={e.name}/>))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RoomList;","import React, { useCallback, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './components/styles/App.css';\r\nimport Navbar, { roomTitleState } from './components/Navbar';\r\nimport CreateRoom from './components/CreateRoom';\r\nimport { Helmet } from 'react-helmet';\r\nimport { deleteUser } from './components/API/UserAPI';\r\nimport Footer from './components/Footer';\r\nimport InputUser, { popupInputState } from './components/InputUser.js';\r\nimport Backgroundvideo from './components/Backgroundvideo';\r\nimport RoomList from './components/RoomList';\r\nimport { getRooms, leaveRoom } from './components/API/RoomAPI';\r\nimport { roomState } from './Room';\r\nimport { hookstate, useHookstate } from '@hookstate/core';\r\nimport { useLocation } from 'react-router-dom';\r\nimport Help from './components/Help';\r\n\r\nexport const userState = hookstate(false)\r\n\r\nconst App = () => {\r\n    const user = useHookstate(userState);\r\n    \r\n    const location = useLocation();\r\n    const path = location.pathname.substring(1)\r\n    const navigate = useNavigate();\r\n    const navigateToNotFound = useCallback(() => navigate(\"/NotFound\", { replace: true }), [navigate]);\r\n\r\n    useEffect(() => {\r\n        checkRoom();\r\n        //Delete the current user when the side is closed\r\n        const handleTabClose = event => {\r\n            event.preventDefault();\r\n            if (roomState.get() !== false) leaveRoom(roomState.get(), user); //Artefakt, sollte niemals möglich sein\r\n            console.log('beforeunload event triggered');\r\n            deleteUser(user);\r\n            return (event.returnValue = 'Are you sure you want to exit?');\r\n        };\r\n\r\n        window.addEventListener('beforeunload', handleTabClose);\r\n\r\n        return () => window.removeEventListener('beforeunload', handleTabClose);\r\n    }, []);\r\n\r\n    const checkRoom = async () => {\r\n        const data = await getRooms();\r\n        const rooms = data.rooms;\r\n        if (rooms === undefined) return;\r\n        if (path === \"\") return;\r\n        const target = rooms.find((room)=>{return room.name===path});\r\n        if (target===undefined) return navigateToNotFound();\r\n        roomState.set(path);\r\n        roomTitleState.set(path);\r\n        popupInputState.set(true);\r\n        console.log(\"Blocked join room, user is not set\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <Helmet>\r\n                <title>StreamWithMe</title>\r\n            </Helmet>\r\n            <Navbar />\r\n            <InputUser />\r\n            <CreateRoom />\r\n            <RoomList />\r\n            <Footer />\r\n            <Backgroundvideo />\r\n            <Help/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;","import React from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport Footer from \"./components/Footer\";\r\nimport Navbar from \"./components/Navbar\";\r\n\r\nconst NotFound = () => {\r\n    const TITLE = \"Room not found\"\r\n\r\n    return(\r\n        <div className=\"App\">\r\n            <Helmet>\r\n                <title>{TITLE}</title>\r\n            </Helmet>\r\n            <Navbar />\r\n            <div>Dieser Raum existiert nicht mehr. Zurück zur Startseite ></div>\r\n            <Footer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound;","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport App from './App';\r\nimport Room from './Room';\r\nimport {HashRouter as Router, Routes, Route} from 'react-router-dom'\r\nimport NotFound from './NotFound';\r\n\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n    <Router base=\"/\">\r\n    <Routes>\r\n        <Route path=\"/\" element={<App/>}/>\r\n        <Route path=\"/Room\" element={<Room/>}/>\r\n        <Route path=\"/NotFound\" element={<NotFound/>}/>\r\n        <Route path=\"*\" element={<App/>}/>\r\n    </Routes>\r\n</Router>\r\n);","module.exports = __webpack_public_path__ + \"static/media/bgvid.860475ab.860475ab.mp4\";"],"sourceRoot":""}