{"version":3,"sources":["components/Assets/bgvid.860475ab.mp4","components/API/VideoAPI.js","components/Video.js","components/API/UserAPI.js","components/Footer.js","components/API/ChatAPI.js","components/ChatMessage.js","components/ChatInput.js","components/Chat.js","components/UserList.js","components/VideoInput.js","Room.js","components/API/RoomAPI.js","components/Navbar.js","components/InputUser.js","components/CreateRoom.js","components/Backgroundvideo.js","components/RoomListElement.js","components/RoomList.js","App.js","NotFound.js","index.js"],"names":["module","exports","__webpack_require__","p","getVideoStatus","_ref","Object","asyncToGenerator","_regeneratorRuntime","mark","_callee","roomName","res","wrap","_context","prev","next","fetch","method","sent","json","abrupt","t0","console","log","stop","_x","apply","this","arguments","changeVideoStatus","_ref2","_callee2","id","status","_context2","headers","Content-Type","body","JSON","stringify","user","error","_x2","_x3","_x4","changeVideoUrl","_ref3","_callee3","url","_context3","_x5","_x6","_x7","getVideoUrl","_ref4","_callee4","_context4","_x8","changeVideoPosition","_ref5","_callee5","position","_context5","_x9","_x10","_x11","getVideoPosition","_ref6","_callee6","_context6","_x12","Video","_useState","useState","_useState2","slicedToArray","setUrl","_useState3","_useState4","setStatus","_useState5","_useState6","isPlaying","setPlaying","_useState7","_useState8","pos","setPos","playerRef","useRef","roomState","get","userState","useEffect","interval","setInterval","Video_regeneratorRuntime","videoUrl","videoPosition","videoStatus","clearInterval","dataUrl","newUrl","dataStatus","newStatus","dataPos","newPos","Math","abs","current","seekTo","setupVideo","react_default","a","createElement","className","lib_default","height","width","border","controls","muted","playing","ref","progressInterval","onReady","onStart","onPause","onProgress","data","round","playedSeconds","onSeek","onEnded","onError","createUser","UserAPI_regeneratorRuntime","_name","name","deleteUser","set","getUsers","userId","Footer","sendMessage","ChatAPI_regeneratorRuntime","message","getChat","start","ChatMessage","props","text","time","setTime","setUser","getUsername","date","Date","setMilliseconds","resultsub","toISOString","substring","ChatMessage_regeneratorRuntime","list","result","users","find","element","role","ChatInput","newMessage","setNewMessage","submitInput","ChatInput_regeneratorRuntime","event","preventDefault","onSubmit","htmlFor","type","value","placeholder","maxLength","autoComplete","onChange","target","Chat","displayed","setDisplayed","endRef","lastCount","setLastCount","scrollToBottom","scrollIntoView","behavior","length","Chat_regeneratorRuntime","shownMessages","messages","undefined","aria-label","aria-live","tabIndex","onFocus","map","m","components_ChatMessage","key","components_ChatInput","UserListElement","UserList","UserList_regeneratorRuntime","shownUsers","getRoomUsers","UserList_UserListElement","VideoInput","input","setInput","hookstate","Room","useHookstate","navigate","useNavigate","navigateToHome","useCallback","replace","handleTabClose","leaveRoom","returnValue","window","addEventListener","removeEventListener","index_module","APP","components_Navbar","components_VideoInput","components_Video","components_Chat","components_UserList","components_Footer","createRoom","RoomAPI_regeneratorRuntime","joinRoom","titleState","getRooms","Navbar","linkIsVis","room","title","setTitle","handleNavigate","onClick","onKeyDown","e","navigator","clipboard","writeText","setTimeout","popupState","InputUser","navigateToRoom","setName","toggle","InputUser_regeneratorRuntime","CreateRoom","instantiateRoom","CreateRoom_regeneratorRuntime","Backgroundvideo","autoPlay","loop","src","video","RoomListElement","watchers","viewers","setViewers","getViewers","RoomListElement_regeneratorRuntime","enterRoom","RoomList","RoomList_regeneratorRuntime","shownRooms","rooms","components_RoomListElement","App","path","useLocation","pathname","navigateToNotFound","checkRoom","App_regeneratorRuntime","Helmet","components_CreateRoom","components_RoomList","components_InputUser","components_Backgroundvideo","NotFound","ReactDOM","createRoot","document","getElementById","render","react_router_dom","base","react_router","src_App","src_Room","src_NotFound"],"mappings":"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","file":"static/js/main.a50df325.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bgvid.860475ab.860475ab.mp4\";","export const getVideoStatus = async (roomName) => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+'/status',\r\n            {\r\n                method: \"GET\",\r\n            }\r\n        )\r\n        return await res.json()\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const changeVideoStatus = async (roomName, id, status) => {\r\n    try {\r\n        fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+'/status',\r\n            {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    \"user\": id,\r\n                    \"status\": status\r\n                }\r\n                )\r\n            }\r\n        )\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const changeVideoUrl = async (roomName, id, url) => {\r\n    try {\r\n        fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+'/video',\r\n            {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    \"user\": id,\r\n                    \"url\":  url\r\n                })\r\n            }\r\n        )\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const getVideoUrl = async (roomName) => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+'/video',\r\n            {\r\n                method: \"GET\",\r\n            }\r\n        )\r\n        return await res.json()\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const changeVideoPosition = async (roomName, id, position) => {\r\n    try {\r\n        fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+'/position',\r\n            {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    \"user\": id,\r\n                    \"position\":  position\r\n                })\r\n            }\r\n        )\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const getVideoPosition = async (roomName) => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+'/position',\r\n            {\r\n                method: \"GET\",\r\n            }\r\n        )\r\n        return await res.json()\r\n    }\r\n    catch (error) {\r\n        console.log(error);\r\n    }\r\n}","import React, { useState, useRef, useEffect } from 'react';\r\nimport ReactPlayer from 'react-player';\r\nimport \"./styles/Video.css\";\r\nimport { userState } from '../App';\r\nimport { getVideoUrl, changeVideoStatus, getVideoStatus, getVideoPosition, changeVideoPosition } from './API/VideoAPI';\r\nimport { roomState } from '../Room';\r\n\r\nconst Video = () => {\r\n    const [url, setUrl] = useState(\"\");\r\n    const [status, setStatus] = useState(\"paused\");\r\n    const [isPlaying, setPlaying] = useState(false);\r\n    const [pos, setPos] = useState(0);\r\n\r\n    const playerRef = useRef();\r\n    const roomName = roomState.get();\r\n    const user = userState.get();\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(async () => {\r\n            await videoUrl();\r\n            await videoPosition();\r\n            await videoStatus();\r\n        }, 3000);\r\n        return () => clearInterval(interval);\r\n    });\r\n\r\n    const videoUrl = async () => {\r\n        const dataUrl = await getVideoUrl(roomName);\r\n        const newUrl = dataUrl.url;\r\n        if (newUrl !== url) setUrl(newUrl);\r\n    };\r\n\r\n    const videoStatus = async () => {\r\n        const dataStatus = await getVideoStatus(roomName);\r\n        const newStatus = dataStatus.status;\r\n        if (newStatus !== status) {\r\n            setStatus(newStatus);\r\n            if (newStatus === \"paused\") setPlaying(false);\r\n            else if (newStatus === \"playing\") setPlaying(true);\r\n        }\r\n    };\r\n\r\n    const videoPosition = async () => {\r\n        const dataPos = await getVideoPosition(roomName);\r\n        const newPos = dataPos.position;\r\n        if (Math.abs(newPos - pos) > 3) {\r\n            setPos(newPos);\r\n            playerRef.current.seekTo(newPos, 'seconds');\r\n        }\r\n    };\r\n\r\n    const setupVideo = async () => {\r\n        const dataPos = await getVideoPosition(roomName);\r\n        const newPos = dataPos.position;\r\n        setPos(newPos);\r\n        playerRef.current.seekTo(newPos, 'seconds');\r\n        changeVideoStatus(roomName, user, \"paused\");\r\n    };\r\n\r\n    return (\r\n        <div className=\"video-container\">\r\n            <ReactPlayer\r\n                height='70vh'\r\n                width='72vw'\r\n                border='bold'\r\n                controls\r\n                muted\r\n                playing={isPlaying}\r\n                url={url}\r\n                ref={playerRef}\r\n                progressInterval={3000}\r\n                onReady={setupVideo}\r\n                onStart={() => changeVideoStatus(roomName, user, 'playing')}\r\n                onPause={() => changeVideoStatus(roomName, user, 'paused')}\r\n                onProgress={(data) => { changeVideoPosition(roomName, user, Math.round(data.playedSeconds)); }}\r\n                onSeek={(data) => { changeVideoPosition(roomName, user, Math.round(data.playedSeconds)); }}\r\n                onEnded={() => console.log('onEnd callback')}\r\n                onError={() => console.log('onError callback')}\r\n            />\r\n            <div className='video-outline'/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Video;\r\n\r\n\r\n","import { userState } from \"../../App\"\r\n\r\nexport const createUser = async (_name) => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/users/',\r\n            {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    name: _name\r\n                })\r\n            }\r\n        )\r\n        let json = await res.json()\r\n        if (userState.get() !== false) deleteUser(userState.get());\r\n        userState.set(json.id);\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const getUsers = async () => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/users/',\r\n            {\r\n                method: \"GET\",\r\n            })\r\n        return await res.json();\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\nexport const deleteUser = (userId) => {\r\n    try {\r\n        fetch('https://gruppe10.toni-barth.com/users/' + userId,\r\n            {\r\n                method: \"DELETE\"\r\n            })\r\n        userState.set(false);\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}","import React from 'react'\r\nimport \"./styles/Footer.css\"\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <div className='footer-container'>\r\n            <p className='footer-p'>Erstellt von: Jannis Salzmann & Viktor Graf von Westarp</p>\r\n            <p className='footer-p'>Unter Aufsicht von: Toni Barth</p>\r\n            <p className='footer-p'>Als: Projekt \"Watch2gether\" der HS Anhalt</p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Footer;","export const sendMessage = async (roomName, id, message) => {\r\n    try {\r\n        fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+ '/chat',\r\n            {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    \"user\": id,\r\n                    \"message\": message\r\n                })\r\n            }\r\n        )\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const getChat = async (roomName, start) => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/rooms/'+roomName+ '/chat',\r\n            {\r\n                method: \"GET\",\r\n                // headers: {\r\n                //     \"Content-Type\": \"application/json\"\r\n                // },\r\n                // body: JSON.stringify({\r\n                //     \"start\": start\r\n                // })\r\n            }\r\n            \r\n        )\r\n        return await res.json();\r\n    }\r\n    catch (error) {\r\n        console.log(error)\r\n    }\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { getUsers } from \"./API/UserAPI\";\r\nimport \"./styles/ChatMessage.css\";\r\n\r\nconst ChatMessage = (props) => {\r\n    const [text] = useState(props.text);\r\n    const [time, setTime] = useState(props.time);\r\n    const [id] = useState(props.id);\r\n    const [user, setUser] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        getUsername();\r\n        let date = new Date(null);\r\n        if (typeof (time) === \"string\") return;\r\n        date.setMilliseconds(time);\r\n        let result = date.toISOString();\r\n        let resultsub = result.substring(11, 16);\r\n        setTime(resultsub);\r\n    });\r\n\r\n    const getUsername = async () => {\r\n        const data = await getUsers();\r\n        const list = data.users;\r\n        const result = list.find((element) => { return id === element.id; });\r\n        setUser(result ? result.name : \"[deleted]\");\r\n    };\r\n\r\n    return (\r\n        <div className=\"messages\"  role=\"listitem\">\r\n            <span className=\"messageTime\">{time}</span>\r\n            <span className=\"messageUser\">{user}:</span>\r\n            <span className=\"messageText\">{text}</span>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ChatMessage;","import React, { useState } from \"react\";\r\nimport { userState } from \"../App\";\r\nimport { roomState } from \"../Room\";\r\nimport { sendMessage } from \"./API/ChatAPI\";\r\nimport \"./styles/ChatInput.css\"\r\n\r\n\r\nconst ChatInput = () => {\r\n    const [newMessage, setNewMessage] = useState(\"\");\r\n    const roomName = roomState.get();\r\n    const user = userState.get();\r\n    const handleInputChange = (event) => {\r\n        setNewMessage(event.target.value);\r\n    };\r\n\r\n    const submitInput = async (event) => {\r\n        event.preventDefault();\r\n        await sendMessage(roomName, user, newMessage);\r\n        setNewMessage(\"\");\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={submitInput}>\r\n            <label className=\"chat-input-label\" htmlFor=\"chatMessage\">\r\n                Nachricht eingeben\r\n            </label>\r\n            <input\r\n                name=\"chatMessage\"\r\n                type=\"text\"\r\n                id=\"chatMessage\"\r\n                value={newMessage}\r\n                placeholder=\"Neue Nachricht\"\r\n                maxLength=\"500\"\r\n                autoComplete=\"off\"\r\n                onChange={handleInputChange}/>\r\n        </form>\r\n    );\r\n};\r\n\r\n\r\nexport default ChatInput;","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { roomState } from \"../Room\";\r\nimport { getChat } from \"./API/ChatAPI\";\r\nimport ChatMessage from \"./ChatMessage\";\r\nimport ChatInput from \"./ChatInput\";\r\nimport \"./styles/Chat.css\";\r\n\r\nconst Chat = () => {\r\n    const roomName = roomState.get();\r\n    const [displayed, setDisplayed] = useState([]);\r\n    const endRef = useRef(null);\r\n    const [lastCount, setLastCount] = useState(0);\r\n\r\n    const scrollToBottom = () => {\r\n        endRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (lastCount < displayed.length) {\r\n            setLastCount(displayed.length);\r\n            scrollToBottom();\r\n        }\r\n        const interval = setInterval(async () => { await shownMessages();}, 1000);\r\n        return () => clearInterval(interval);\r\n    });\r\n\r\n    const shownMessages = async () => {\r\n        const data = await getChat(roomName);\r\n        const messages = data.messages;\r\n        if (messages === undefined) return;\r\n        setDisplayed(messages);\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex-chat\" >\r\n            <h2 className='chat-header'>Chat</h2>\r\n            <div className='chat-list' role=\"list\" aria-label=\"Chat\" aria-live=\"polite\" tabIndex=\"0\" onFocus={scrollToBottom}>\r\n                {displayed.map(m => (<ChatMessage key={m.id} time={m.time} text={m.text} id={m.userId} />))}\r\n                <div ref={endRef} />\r\n            </div>\r\n            <div className=\"chat-input\"> <ChatInput /> </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Chat;","import React, { useState, useEffect, useRef } from 'react';\r\nimport './styles/UserList.css';\r\nimport { getRoomUsers } from './API/RoomAPI';\r\nimport { roomState } from '../Room';\r\n\r\nconst UserListElement = (props) => {\r\n    const [name] = useState(props.name);\r\n    return (\r\n        <div className='user-element' role=\"listitem\">\r\n            {name}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst UserList = () => {\r\n    const roomName = roomState.get();\r\n    const [displayed, setDisplayed] = useState([]);\r\n    const endRef = useRef(null);\r\n    const [lastCount, setLastCount] = useState(0);\r\n\r\n    const scrollToBottom = () => {\r\n        endRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (lastCount < displayed.length) {\r\n            setLastCount(displayed.length);\r\n            scrollToBottom();\r\n        }\r\n        const interval = setInterval( async () => { await shownUsers(); }, 1000);\r\n        return () => clearInterval(interval);\r\n    });\r\n\r\n    const shownUsers = async () => {\r\n        const data = await getRoomUsers(roomName);\r\n        const users = data.users;\r\n        if (users === undefined) return;\r\n        setDisplayed(users);\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex-user-list\">\r\n            <h2 className='user-list-header'>Users</h2>\r\n            <div className='user-list' role=\"list\" aria-label=\"User\">\r\n                {displayed.map(user => (<UserListElement name={user.name} key={user.id} />))}\r\n                <div ref={endRef} />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UserList;","import React, { useState } from \"react\";\r\nimport { userState } from \"../App\";\r\nimport { roomState } from \"../Room\";\r\nimport { changeVideoUrl } from './API/VideoAPI';\r\nimport \"./styles/VideoInput.css\";\r\n\r\nconst VideoInput = () => {\r\n    const roomName = roomState.get();\r\n    const user = userState.get();\r\n    const [input, setInput] = useState(\"\");\r\n    const handleInputChange = (event) => {\r\n        setInput(event.target.value);\r\n    };\r\n\r\n    const urlInput = (event) => {\r\n        event.preventDefault();\r\n        changeVideoUrl(roomName, user, input);\r\n        setInput(\"\");\r\n    };\r\n\r\n    return (\r\n        <div className=\"video-input\">\r\n            <form className=\"video-input-form\" onSubmit={urlInput}>\r\n                <label htmlFor=\"Url\" className=\"video-input-label\">\r\n                    Video URL eingeben\r\n                </label>\r\n                <input\r\n                    type='text'\r\n                    name=\"Url\"\r\n                    id=\"Url\"\r\n                    placeholder=\"z.B: https://youtu.be/dQw4w9WgXcQ\"\r\n                    value={input}\r\n                    onChange={handleInputChange}\r\n                />\r\n                <input type=\"submit\" className=\"submitVideo\" value=\"Teilen\" />\r\n            </form>\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nexport default VideoInput;","import React, { useEffect, useCallback } from \"react\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport \"./components/styles/Room.css\";\r\nimport { userState } from \"./App\";\r\nimport { Helmet, HelmetProvider } from 'react-helmet-async';\r\nimport Video from \"./components/Video\";\r\nimport Navbar from \"./components/Navbar\";\r\nimport { leaveRoom } from \"./components/API/RoomAPI\";\r\nimport { deleteUser } from \"./components/API/UserAPI\";\r\nimport Footer from \"./components/Footer\";\r\nimport { hookstate, useHookstate } from '@hookstate/core';\r\nimport Chat from \"./components/Chat\";\r\nimport UserList from \"./components/UserList\";\r\nimport VideoInput from \"./components/VideoInput\";\r\n\r\nexport const roomState = hookstate(false);\r\n\r\nconst Room = () => {\r\n    const APP = 'StreamWithMe';\r\n    const roomName = useHookstate(roomState);\r\n    const navigate = useNavigate();\r\n    const navigateToHome = useCallback(() => navigate(\"/\", { replace: true }), [navigate]);\r\n\r\n    useEffect(() => {\r\n        if (roomName.get() === false) {\r\n            navigateToHome();\r\n        }\r\n        const handleTabClose = event => {\r\n            event.preventDefault();\r\n            leaveRoom(roomName.get(), userState.get());\r\n            deleteUser(userState.get());\r\n            // navigateToHome();\r\n            console.log(\"beforeunload\");\r\n            return (event.returnValue = 'Are you sure you want to exit?');\r\n        };\r\n        window.addEventListener('beforeunload', handleTabClose);\r\n\r\n        return () => window.removeEventListener('beforeunload', handleTabClose);\r\n    });\r\n\r\n    return (\r\n        <div className=\"Room\">\r\n            <HelmetProvider>\r\n                <Helmet>\r\n                    <title>{APP + \" - \" + roomName.get()}</title>\r\n                </Helmet>\r\n                <div className=\"header\">    <Navbar /> </div>\r\n                <div className=\"videoInput\"><VideoInput/> </div>\r\n                <div className=\"video\">     <Video /> </div>\r\n                <div className=\"chat\">      <Chat /> </div>\r\n                <div className=\"users\">     <UserList /> </div>\r\n                <div className=\"footer\">    <Footer /> </div>\r\n            </HelmetProvider>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Room;","import { roomState } from \"../../Room\";\r\nimport { titleState } from \"../Navbar\";\r\n\r\nexport const createRoom = async () => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/rooms/',\r\n            {\r\n                method: \"POST\",\r\n            }\r\n        );\r\n        let json = await res.json();\r\n        return json.name;\r\n    }\r\n    catch (error) {\r\n        console.log(error);\r\n    }\r\n};\r\nexport const joinRoom = async (roomName, id) => {\r\n    try {\r\n        fetch('https://gruppe10.toni-barth.com/rooms/' + roomName + '/users',\r\n            {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    \"user\": id\r\n                })\r\n            }\r\n        );\r\n    }\r\n    catch (error) {\r\n        console.log(error);\r\n    }\r\n};\r\nexport const getRoomUsers = async (roomName) => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/rooms/' + roomName + '/users',\r\n            {\r\n                method: \"GET\",\r\n            }\r\n        );\r\n        return await res.json();\r\n    }\r\n    catch (error) {\r\n        console.log(error);\r\n    }\r\n};\r\nexport const leaveRoom = async (roomName, id) => {\r\n    try {\r\n        fetch('https://gruppe10.toni-barth.com/rooms/' + roomName + '/users',\r\n            {\r\n                method: \"DELETE\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    \"user\": id\r\n                })\r\n            }\r\n        );\r\n        titleState.set(false);\r\n        roomState.set(false);\r\n    }\r\n    catch (error) {\r\n        console.log(error);\r\n    }\r\n};\r\n\r\nexport const getRooms = async () => {\r\n    try {\r\n        let res = await fetch('https://gruppe10.toni-barth.com/rooms/',\r\n            {\r\n                method: \"GET\",\r\n            }\r\n        );\r\n        return await res.json();\r\n    }\r\n    catch (error) {\r\n        console.log(error);\r\n    }\r\n};\r\n","import React, { useCallback, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport \"./styles/navbar.css\";\r\nimport { hookstate, useHookstate } from '@hookstate/core';\r\nimport { leaveRoom } from './API/RoomAPI';\r\nimport { userState } from '../App';\r\n\r\nexport const titleState = hookstate(\"\");\r\n\r\nconst Navbar = () => {\r\n    useHookstate(titleState);\r\n    let linkIsVis = false;\r\n    const room = titleState.get();\r\n    const [title,setTitle] = useState(room);\r\n\r\n    const navigate = useNavigate();\r\n    const navigateToHome = useCallback(() => navigate(\"/\", { replace: true }), [navigate] );\r\n\r\n    const handleKeyDown = (e) => { if (e.key === \"Enter\") handleNavigate(); }\r\n    const handleNavigate = () => {\r\n        if (room !== false) {\r\n            titleState.set(false);\r\n            leaveRoom(room, userState.get());\r\n        }\r\n        navigateToHome();\r\n    }\r\n\r\n    const toggleHelp = () => {\r\n        // TODO\r\n    }\r\n\r\n    const copyLink = () => {\r\n        if (!linkIsVis){\r\n            setTitle(\"https://cibrock.github.io/watch2gather/#/\"+room);\r\n            navigator.clipboard.writeText(\"https://cibrock.github.io/watch2gather/#/\"+room);\r\n            setTimeout(()=>{ setTitle(room); linkIsVis = false; },10000)\r\n            linkIsVis = true;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='sum'>\r\n            <div className='logo'>\r\n                <p tabIndex=\"0\" className=\"logo-link\" onClick={handleNavigate} onKeyDown={handleKeyDown} >StreamWithMe</p>\r\n            </div>\r\n            <div className='logo'>\r\n                <p className='logo-link' tabIndex=\"0\" onClick={copyLink}>{title}</p>\r\n            </div>\r\n            <div className='logo'>\r\n                <p className=\"logo-link\" tabIndex=\"0\" onClick={toggleHelp}>Help</p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default Navbar;\r\n","import \"./styles/InputUser.css\";\r\nimport React, { useState, useCallback } from \"react\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { createUser } from \"./API/UserAPI\";\r\nimport { hookstate, useHookstate } from '@hookstate/core';\r\nimport { roomState } from \"../Room\";\r\nimport { joinRoom } from \"./API/RoomAPI\";\r\nimport { userState } from \"../App\";\r\n\r\nexport const popupState = hookstate(false);\r\n\r\nconst InputUser = () => {\r\n    const navigate = useNavigate();\r\n    const navigateToRoom = useCallback(() => navigate(\"/Room\", { replace: true }), [navigate]);\r\n    const [name, setName] = useState(\"\");\r\n    const status = useHookstate(popupState);\r\n\r\n    const handleInputChange = (event) => {\r\n        //Update the shown text whilst typing\r\n        setName(event.target.value);\r\n    };\r\n\r\n    const toggle = () => {\r\n        status.set(!status.get())\r\n    }\r\n\r\n    const submitInput = async (event) => {\r\n        event.preventDefault();\r\n        await createUser(name);\r\n        if (roomState.get() !== false) {\r\n            joinRoom(roomState.get(),userState.get())\r\n            navigateToRoom();\r\n        }\r\n        toggle();\r\n        setName(\"\");\r\n    };\r\n\r\n    return (status.get()) && (\r\n        <div className=\"modal\">\r\n            <div className=\"overlay\" onClick={toggle}></div>\r\n            <div className=\"modal-content\">\r\n                <h2 className=\"modal-h2\">Bitte erstellen Sie einen Nutzer um Rumen beitreten zu knnen</h2>\r\n                <button className = \"modal-btn\" onClick={toggle}></button>\r\n                <form onSubmit={submitInput}>\r\n                    <label htmlFor=\"UserName\" className=\"input-user-label\">\r\n                        Name eingeben\r\n                    </label>\r\n                    <input\r\n                        name=\"UserName\"\r\n                        type=\"name\"\r\n                        id=\"UserName\"\r\n                        value={name}\r\n                        placeholder=\"Name\"\r\n                        maxLength = \"20\"\r\n                        onChange={handleInputChange} />\r\n                    <input type=\"submit\" value=\"Besttigen\"/>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default InputUser;","import React, { useCallback } from 'react';\r\nimport \"./styles/CreateRoom.css\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { createRoom, joinRoom } from './API/RoomAPI';\r\nimport { roomState } from '../Room';\r\nimport { userState } from '../App';\r\nimport 'reactjs-popup/dist/index.css';\r\nimport { popupState } from './InputUser';\r\nimport { titleState } from './Navbar';\r\n\r\nconst CreateRoom = () => {\r\n    const navigate = useNavigate();\r\n    const navigateToRoom = useCallback(() => navigate(\"/Room\", { replace: true }), [navigate]);\r\n    const instantiateRoom = async () => {\r\n        if (userState.get() === false) {\r\n            popupState.set(true);\r\n            console.log(\"Blocked create room, user is not set\");\r\n            return;\r\n        }\r\n        const roomName = await createRoom();\r\n        joinRoom(roomName, userState.get());\r\n        roomState.set(roomName);\r\n        titleState.set(roomName);\r\n        navigateToRoom();\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex-container\">\r\n            <div className=\"flex-inner\">\r\n                <div>\r\n                    <h2 className=\"accessibility\">Einen Raum erstellen</h2>\r\n                    <h2 role=\"none\">enjoy with me.</h2>\r\n                </div>\r\n                <button type=\"button\" onClick={instantiateRoom} id=\"roombutton\">\r\n                    Einen Raum Erstellen\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default CreateRoom;","import React from 'react';\r\nimport './styles/Backgroundvideo.css';\r\nimport video from './Assets/bgvid.860475ab.mp4';\r\n\r\nconst Backgroundvideo = () => {\r\n    return (\r\n        <video id=\"background-video\" autoPlay loop>\r\n            <source src={video} type=\"video/mp4\"/>\r\n        </video>\r\n    )\r\n}\r\n\r\nexport default Backgroundvideo","import React, { useCallback, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport \"./styles/RoomListElement.css\";\r\nimport { roomState } from '../Room';\r\nimport { userState } from '../App';\r\nimport { popupState } from './InputUser';\r\nimport { titleState } from './Navbar';\r\nimport { getRoomUsers, joinRoom } from './API/RoomAPI';\r\nimport { useEffect } from 'react';\r\n\r\nconst RoomListElement = (props) => {\r\n    const [roomName] = useState(props.name);\r\n    const [viewers,setViewers] = useState(props.watchers ? (\"are \" + props.watchers + \" people\") : (\"is one person\"));\r\n    const navigate = useNavigate();\r\n    const navigateToRoom = useCallback(() => navigate(\"/Room\", { replace: true }), [navigate]);\r\n    \r\n    useEffect(()=>{\r\n        getViewers();\r\n    });\r\n    \r\n    const getViewers = async () => {\r\n        const data = await getRoomUsers(roomName);\r\n        const users = data.users;\r\n        setViewers(users.length === 1 ? \"1 person is\" : users.length + \" people are \");\r\n    }\r\n\r\n    const handleKeyDown = (e) => { if (e.key === \"Enter\") enterRoom(); }\r\n    const enterRoom = async () => {\r\n        roomState.set(roomName);\r\n        titleState.set(roomName);\r\n        if (userState.get() === false) {\r\n            popupState.set(true);\r\n            console.log(\"Blocked join room, user is not set\");\r\n        } else {\r\n            joinRoom(roomName, userState.get());                \r\n            navigateToRoom();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div tabIndex=\"0\" className='room-element' onClick={enterRoom} onKeyDown={handleKeyDown}>\r\n            <span className='room-element-name'>{roomName}</span>\r\n            <span className='room-element-count'>{viewers} watching</span>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RoomListElement;","import React, { useEffect, useState } from 'react';\r\nimport RoomListElement from \"./RoomListElement\";\r\nimport './styles/RoomList.css';\r\nimport { getRooms} from './API/RoomAPI';\r\n\r\nconst RoomList = () => {\r\n    const [displayed, setDisplayed] = useState([]);\r\n    \r\n    useEffect(() => {\r\n        const interval = setInterval(async () => { await shownRooms(); }, 1000);\r\n        return () => clearInterval(interval);\r\n    });\r\n\r\n    const shownRooms = async () => {\r\n        const data = await getRooms();\r\n        const rooms = data.rooms;\r\n        if (rooms === undefined) return;\r\n        setDisplayed(rooms);\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex-rooms\">\r\n            <h2 className='room-header'>Einem Raum beitreten</h2>\r\n            <div className='room-list' aria-label=\"Rume\">\r\n                {displayed.map(e => (<RoomListElement name={e.name} key={e.name}/>))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RoomList;","import React, { useCallback, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './components/styles/App.css';\r\nimport Navbar, { titleState } from './components/Navbar';\r\nimport CreateRoom from './components/CreateRoom';\r\nimport { Helmet } from 'react-helmet';\r\nimport { deleteUser } from './components/API/UserAPI';\r\nimport Footer from './components/Footer';\r\nimport InputUser, { popupState } from './components/InputUser.js';\r\nimport Backgroundvideo from './components/Backgroundvideo';\r\nimport RoomList from './components/RoomList';\r\nimport { getRooms, leaveRoom } from './components/API/RoomAPI';\r\nimport { roomState } from './Room';\r\nimport { hookstate, useHookstate } from '@hookstate/core';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nexport const userState = hookstate(false)\r\n\r\nconst App = () => {\r\n    const TITLE = 'StreamWithMe';\r\n    const user = useHookstate(userState);\r\n    \r\n    const location = useLocation();\r\n    const path = location.pathname.substring(1)\r\n    const navigate = useNavigate();\r\n    const navigateToNotFound = useCallback(() => navigate(\"/NotFound\", { replace: true }), [navigate]);\r\n\r\n    useEffect(() => {\r\n        checkRoom();\r\n        //Delete the current user when the side is closed\r\n        const handleTabClose = event => {\r\n            event.preventDefault();\r\n            if (roomState.get() !== false) leaveRoom(roomState.get(), user); //Artefakt, sollte niemals mglich sein\r\n            console.log('beforeunload event triggered');\r\n            deleteUser(user);\r\n            return (event.returnValue = 'Are you sure you want to exit?');\r\n        };\r\n\r\n        window.addEventListener('beforeunload', handleTabClose);\r\n\r\n        return () => window.removeEventListener('beforeunload', handleTabClose);\r\n    }, []);\r\n\r\n    const checkRoom = async () => {\r\n        const data = await getRooms();\r\n        const rooms = data.rooms;\r\n        if (rooms === undefined) return;\r\n        if (path === \"\") return;\r\n        const target = rooms.find((room)=>{return room.name==path});\r\n        if (target===undefined) return navigateToNotFound();\r\n        roomState.set(path);\r\n        titleState.set(path);\r\n        popupState.set(true);\r\n        console.log(\"Blocked join room, user is not set\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <Helmet>\r\n                <title>{TITLE}</title>\r\n            </Helmet>\r\n            <div className='header'>    <Navbar /></div>\r\n            <div className='create'>    <CreateRoom /></div>\r\n            <div className='join'>      <RoomList /></div>\r\n            <div className='footer'>    <Footer /></div>\r\n            <InputUser />\r\n            <Backgroundvideo />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;","import React from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport Footer from \"./components/Footer\";\r\nimport Navbar from \"./components/Navbar\";\r\n\r\nconst NotFound = () => {\r\n    const TITLE = \"Room not found\"\r\n\r\n    return(\r\n        <div className=\"App\">\r\n            <Helmet>\r\n                <title>{TITLE}</title>\r\n            </Helmet>\r\n            <Navbar />\r\n            <div>Dieser Raum existiert nicht mehr. Zurck zur Startseite ></div>\r\n            <Footer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound;","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport App from './App';\r\nimport Room from './Room';\r\nimport {HashRouter as Router, Routes, Route} from 'react-router-dom'\r\nimport NotFound from './NotFound';\r\n\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n    <Router base=\"/\">\r\n    <Routes>\r\n        <Route path=\"/\" element={<App/>}/>\r\n        <Route path=\"/Room\" element={<Room/>}/>\r\n        <Route path=\"/NotFound\" element={<NotFound/>}/>\r\n        <Route path=\"*\" element={<App/>}/>\r\n    </Routes>\r\n</Router>\r\n);"],"sourceRoot":""}